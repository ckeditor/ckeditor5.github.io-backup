<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Integration - CKEditor 5 Documentation</title>
    <meta name="description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:card" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:site" content="@ckeditor">
    <meta property="og:title" content="Integration - CKEditor 5 Documentation">
    <meta property="og:description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ckeditor.com/docs/ckeditor5/latest/features/revision-history/revision-history-integration.html">
    <meta property="DC.language" content="en">
    <meta property="DC.publisher" content="CKSource">
    <meta property="DC.creator" content="CKEditor">
    <meta property="DC.title" content="Integration - CKEditor 5 Documentation">
    <meta property="DC.format" content="text/html">
    <meta property="DC.type" content="Text">
    <meta property="DC.description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <link rel="canonical" href="https://ckeditor.com/docs/ckeditor5/latest/features/revision-history/revision-history-integration.html">
    <link rel="icon" type="image/png" href="../../assets/img/favicons/16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="../../assets/img/favicons/32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../assets/img/favicons/96x96.png" sizes="96x96">
    <link rel="apple-touch-icon" type="image/png" href="../../assets/img/favicons/200x200.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
    <link rel="stylesheet" href="../../../../assets/1.11.0/css/styles.css" type="text/css" media="all">
    <link rel="stylesheet" href="../../assets/styles.css" type="text/css">
    <link rel="stylesheet" href="../../snippets/features/revision-history-build/snippet.css" type="text/css" data-cke="true">
    <link rel="stylesheet" href="../../assets/snippet-styles.css" type="text/css" data-cke="true">
    <link rel="stylesheet" href="../../snippets/assets.css" type="text/css" data-cke="true">
    <script>
      ( function() {
      	'use strict';
      	// Set up global variables;
      	if ( !window.umebrto ) {
      		window.umberto = {};
      	}
      	window.umberto.relativeAppPath = "../../../../assets/1.11.0/scripts";
      
      	// Add app script
      	var el = document.createElement( 'script' );
      	el.setAttribute( 'async', 'async' );
      	el.setAttribute( 'defer', 'defer' );
      	if ( typeof Symbol === 'function' && typeof Symbol() === 'symbol' ) {
      		el.src = "../../../../assets/1.11.0/scripts/app.js";
      	} else {
      		el.src = "../../../../assets/1.11.0/scripts/app-polyfill.js";
      	}
      	document.getElementsByTagName( 'head' )[ 0 ].appendChild( el );
      
      	// Changing documentation theme enable it via `localStorage.setItem( 'theme', 'theme-dark' )`
      	if ( localStorage.getItem( 'theme' ) === 'theme-dark' ) {
      		document.getElementsByTagName( 'html' )[ 0 ].classList.add( 'theme-dark' );
      	}
      } )();
    </script>
    <script>if ( ["ckeditor5.github.io"].indexOf( location.hostname ) !== -1 ) {
      	function pageView() {
      		ga( 'send', 'pageview', location.pathname + location.search + location.hash );
      	}
      
      	(function( i, s, o, g, r, a, m ) {
      		i[ 'GoogleAnalyticsObject' ] = r;
      		i[ r ] = i[ r ] || function() {
      				(i[ r ].q = i[ r ].q || []).push( arguments )
      			}, i[ r ].l = 1 * new Date();
      		a = s.createElement( o ),
      			m = s.getElementsByTagName( o )[ 0 ];
      		a.async = 1;
      		a.src = g;
      		m.parentNode.insertBefore( a, m )
      	})( window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga' );
      
      	ga( 'create', {"trackingId":"UA-271067-19","cookieDomain":"ckeditor5.github.io"} );
      
      	pageView();
      
      	window.addEventListener( 'hashchange', pageView );
      }
    </script>
  <meta name="generator" content="Hexo 4.2.1"></head>
  <body>
    <header class="top" data-project="ckeditor5">
      <div class="header__main">
        <div class="header__main-rwd-button"><a href="#"><span></span><span></span><span></span></a></div>
        <div class="header__main-title"><a class="header__main-title-home" href="../../../../index.html">CKEditor Ecosystem Documentation</a></div>
        <div class="top__search">
          <input class="top__search__box" type="text" id="docsearch_input" placeholder="Search in CKEditor 5">
          <div class="top__search__button"><img src="../../../../assets/1.11.0/img/loupe.svg" alt="Search"></div>
        </div>
      </div>
      <div class="header__sub">
        <ul class="top__menu">
          <li class="top__menu-project-logo"><a href="../../index.html">CKEditor 5</a></li>
          <li><a href="../../builds/index.html">Builds</a></li>
          <li><a href="../../framework/index.html">Framework</a></li>
          <li><a href="../../examples/index.html">Examples</a></li>
          <li><a class="top__menu__item--active" href="../index.html">Features</a></li>
          <li><a class="top__menu__api" href="../../api/index.html">API</a></li>
          <li><a class="top__menu-github-link" href="https://github.com/ckeditor/ckeditor5" target="_blank" title="CKEditor 5 on GitHub."><svg viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></li>
        </ul>
      </div>
      <div class="header__menu-rwd">
        <ul class="header__menu-rwd__projects">
          <li data-project="ckeditor5"><a href="../../../latest/index.html">CKEditor 5</a>
            <ul class="tree header__menu-rwd__projects-pages">
              <li data-group="builds"><a href="../../builds/index.html">Builds</a>
              </li>
              <li data-group="framework"><a href="../../framework/index.html">Framework</a>
              </li>
              <li data-group="examples"><a href="../../examples/index.html">Examples</a>
              </li>
              <li data-group="features"><a href="../index.html">Features</a>
                <ul class="header__menu-rwd__projects-subpages">
                          <li><a href="../autoformat.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Autoformatting</span>
                              </div></a></li>
                          <li><a href="../text-transformation.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Automatic text transformation</span>
                              </div></a></li>
                          <li><a href="../basic-styles.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Basic text styles</span>
                              </div></a></li>
                          <li><a href="../indent.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block indentation</span>
                              </div></a></li>
                          <li><a href="../block-quote.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block quote</span>
                              </div></a></li>
                          <li><a href="../code-blocks.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Code blocks</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Collaboration</span></div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../collaboration/collaboration.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                      </div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Comments</span></div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../collaboration/comments/comments.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/comments/comments-integration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/comments/comments-only-mode.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Comments-only mode</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/comments/comments-outside-editor.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Comments outside editor</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Track changes</span></div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../collaboration/track-changes/track-changes.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/track-changes/track-changes-integration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/track-changes/track-changes-custom-features.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom features</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/track-changes/track-changes-data.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Saving data without suggestions</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Real-time collaboration</span></div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../collaboration/real-time-collaboration/real-time-collaboration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/real-time-collaboration/real-time-collaboration-integration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/real-time-collaboration/users-in-real-time-collaboration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Users in real-time collaboration</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li><a href="../collaboration/users.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Users</span>
                                      </div></a></li>
                                  <li><a href="../collaboration/context-and-collaboration-features.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Context and collaboration features</span>
                                      </div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Annotations</span></div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../collaboration/annotations/annotations.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/annotations/annotations-display-mode.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Display mode</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/annotations/annotations-custom-configuration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Configuration</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/annotations/annotations-custom-theme.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom theme</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/annotations/annotations-custom-template.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom template</span>
                                              </div></a></li>
                                          <li><a href="../collaboration/annotations/annotations-custom-view.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom view</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                            </ul>
                          </li>
                          <li><a href="../minimap.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Content minimap</span><span class="tree__item__badge tree__item__badge_new">New</span>
                              </div></a></li>
                          <li><a href="../title.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document title</span>
                              </div></a></li>
                          <li><a href="../editor-placeholder.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor placeholder</span>
                              </div></a></li>
                          <li><a href="../export-pdf.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Export to PDF</span>
                              </div></a></li>
                          <li><a href="../export-word.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Export to Word</span>
                              </div></a></li>
                          <li><a href="../find-and-replace.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Find and replace</span><span class="tree__item__badge tree__item__badge_new">New</span>
                              </div></a></li>
                          <li><a href="../font.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Font</span>
                              </div></a></li>
                          <li><a href="../general-html-support.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">General HTML Support</span><span class="tree__item__badge tree__item__badge_new">New</span>
                              </div></a></li>
                          <li><a href="../headings.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Headings</span>
                              </div></a></li>
                          <li><a href="../highlight.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Highlight</span>
                              </div></a></li>
                          <li><a href="../horizontal-line.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Horizontal line</span>
                              </div></a></li>
                          <li><a href="../html-embed.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">HTML embed</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Images</span></div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../images/images-overview.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                      </div></a></li>
                                  <li><a href="../images/images-text-alternative.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text alternative</span>
                                      </div></a></li>
                                  <li><a href="../images/images-captions.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Image captions</span>
                                      </div></a></li>
                                  <li><a href="../images/images-resizing.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Resizing images</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                      </div></a></li>
                                  <li><a href="../images/images-styles.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Image styles</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                      </div></a></li>
                                  <li><a href="../images/images-linking.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Linking images</span>
                                      </div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Image upload</span></div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../images/image-upload/image-upload.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="../images/image-upload/easy-image.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Easy Image</span>
                                              </div></a></li>
                                          <li><a href="../images/image-upload/ckfinder.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">CKFinder file manager</span>
                                              </div></a></li>
                                          <li><a href="../images/image-upload/base64-upload-adapter.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Base64 upload adapter</span>
                                              </div></a></li>
                                          <li><a href="../images/image-upload/simple-upload-adapter.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Simple upload adapter</span>
                                              </div></a></li>
                                          <li><a href="../images/image-upload/images-inserting.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Inserting images via URL</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li><a href="../images/images-installation.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Installation</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../keyboard-support.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Keyboard support</span>
                              </div></a></li>
                          <li><a href="../link.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Link</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Lists</span></div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../lists/lists.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Ordered and unordered lists</span>
                                      </div></a></li>
                                  <li><a href="../lists/todo-lists.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">To-do lists</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../markdown.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Markdown output</span>
                              </div></a></li>
                          <li><a href="../math-equations.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Math and chemical formulas</span>
                              </div></a></li>
                          <li><a href="../media-embed.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Media embed</span>
                              </div></a></li>
                          <li><a href="../mentions.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Mentions</span>
                              </div></a></li>
                          <li><a href="../page-break.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Page break</span>
                              </div></a></li>
                          <li><a href="../pagination.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Pagination</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Pasting</span></div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../pasting/paste-from-word.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste from Word</span>
                                      </div></a></li>
                                  <li><a href="../pasting/paste-from-google-docs.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste from Google Docs</span>
                                      </div></a></li>
                                  <li><a href="../pasting/paste-plain-text.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste plain text</span>
                                      </div></a></li>
                                  <li><a href="../pasting/drag-drop.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Drag and drop</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../read-only.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Read-only support</span>
                              </div></a></li>
                          <li><a href="../remove-format.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Remove formatting</span>
                              </div></a></li>
                          <li><a href="../restricted-editing.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Restricted editing</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Revision history</span></div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="revision-history.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                      </div></a></li>
                                  <li><a href="">
                                      <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Integration</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../select-all.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Select all</span>
                              </div></a></li>
                          <li><a href="../source-editing.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Source editing</span><span class="tree__item__badge tree__item__badge_new">New</span>
                              </div></a></li>
                          <li><a href="../special-characters.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Special characters</span>
                              </div></a></li>
                          <li><a href="../spelling-and-grammar-checking.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Spelling and grammar checking</span>
                              </div></a></li>
                          <li><a href="../table.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Tables</span><span class="tree__item__badge tree__item__badge_new">New</span>
                              </div></a></li>
                          <li><a href="../text-alignment.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text alignment</span>
                              </div></a></li>
                          <li><a href="../language.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text part language</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Toolbar</span></div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../toolbar/toolbar.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor toolbar</span>
                                      </div></a></li>
                                  <li><a href="../toolbar/blocktoolbar.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block toolbar</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../ui-language.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI language</span>
                              </div></a></li>
                          <li><a href="../watchdog.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Watchdog</span>
                              </div></a></li>
                          <li><a href="../word-count.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Word and character count</span>
                              </div></a></li>
                </ul>
              </li>
              <li data-group="api-reference"><a href="../../api/index.html">API</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </header>
    <main class="main">
      <section class="main__content formatted">
        <div class="main__content-inner">
          <div class="github-contrib"><a href="https://github.com/ckeditor/ckeditor5/issues/new" target="_blank" rel="noopener" title="Report an issue"><img src="../../../../assets/1.11.0/img/exclamation-circle.svg" alt="Report an issue"></a>
          </div>
          <div class="rwd-breadcrumbs"><a href="../../../../index.html">Home</a><span class="rwd-breadcrumbs__separator">/</span><a href="../../index.html">CKEditor 5</a><span class="rwd-breadcrumbs__separator">/</span><a href="../index.html">Features</a>
          </div>
          <h1 class="main__content-title"><img src="../../../../assets/1.11.0/img/book.svg" alt="guide">Integrating revision history with your application
          </h1><nav class="secondary-navigation"><h3>Table of contents</h3><ol><li><a href="#before-you-start">Before you start</a><ol><li><a href="#prepare-a-custom-build">Prepare a custom build</a></li><li><a href="#core-setup">Core setup</a></li></ol></li><li><a href="#a-simple-load-and-save-integration">A simple &#x201C;load and save&#x201D; integration</a><ol><li><a href="#loading-the-data">Loading the data</a></li><li><a href="#saving-the-data">Saving the data</a></li><li><a href="#full-implementation">Full implementation</a></li><li><a href="#demo">Demo</a></li></ol></li><li><a href="#adapter-integration">Adapter integration</a><ol><li><a href="#implementation">Implementation</a></li><li><a href="#full-implementation-2">Full implementation</a></li><li><a href="#demo-2">Demo</a></li></ol></li><li><a href="#pending-actions">Pending actions</a></li><li><a href="#autosave-integration">Autosave integration</a><ol><li><a href="#autosave-and-load-save-integration">Autosave and &#x201C;load &amp; save&#x201D; integration</a></li><li><a href="#autosave-and-adapter-integration">Autosave and adapter integration</a></li><li><a href="#advanced-autosave-strategies">Advanced autosave strategies</a></li></ol></li><li><a href="#how-revisions-are-saved-and-updated">How revisions are saved and updated</a><ol><li><a href="#unlocked-and-locked-revisions">Unlocked and locked revisions</a></li><li><a href="#revision-creation-and-update-flow">Revision creation and update flow</a></li></ol></li></ol></nav>

<div class="info-box notice"><p>This guide describes integrating the revision history feature as a standalone plugin.</p><p>The real-time collaboration integration is currently under development.</p></div>
<p>The revision history plugin provides an API for creating and managing named revisions of the document. To save and load the revisions from your database you need to provide a proper integration.</p>
<p>This guide will discuss two ways to integrate CKEditor 5 with revision history plugin:</p>
<ul>
<li><a href="#a-simple-load-and-save-integration">A simple &#x201C;load and save&#x201D; integration</a> using the <code>RevisionHistory</code> plugin API.</li>
<li><a href="#adapter-integration">An adapter integration</a> which saves the revision data immediately in the database.</li>
</ul>
<p>The adapter integration is the recommended one for two reasons:</p>
<ul>
<li>it gives you a better control over the data,</li>
<li>it is more efficient and provides a better user experience, as the revisions&#x2019; data is loaded on demand rather than upfront before the editor is initialized.</li>
</ul>
<h2 id="before-you-start"><a class="headerlink" href="#before-you-start">#</a> Before you start</h2>
<div class="info-box notice"><p>This is a premium feature and a license key is needed to run it. Please <a href="https://ckeditor.com/contact/">contact us</a> if you would like to purchase a license. Let us know if you have any feedback or questions!</p></div>
<p>Before you start creating an integration, there are a few concepts you should be familiar with. This guide will explain how to create a custom build with the revision history plugin, what data structure do the revisions use and what the plugin API looks like.</p>
<p>Make sure that you understand all of these concepts before you proceed with the integration.</p>
<h3 id="prepare-a-custom-build"><a class="headerlink" href="#prepare-a-custom-build">#</a> Prepare a custom build</h3>
<p>The revision history plugin is not included by default in any CKEditor 5 build. To enable it, you need to <a href="../../builds/guides/integration/installing-plugins.html#adding-a-plugin-to-a-build">create a custom CKEditor 5 build</a> that includes the revision history plugin.</p>
<div class="info-box notice"><p>You can also easily create your own CKEditor 5 build with the revision history feature included using the <a href="https://ckeditor.com/ckeditor-5/online-builder/">CKEditor5 online builder</a>.</p></div>
<pre class="highlight"><code class>git clone -b stable https://github.com/ckeditor/ckeditor5
cd ckeditor5/packages/ckeditor5-build-classic

npm install
</code></pre>
<p>You need to install the <a href="https://www.npmjs.com/package/@ckeditor/ckeditor5-revision-history" target="_blank" rel="noopener"><code>@ckeditor5/ckeditor5-revision-history</code></a> package using <code>npm</code>:</p>
<pre class="highlight"><code class>npm install --save-dev @ckeditor/ckeditor5-revision-history
</code></pre>
<p>To make the revision history work, you need to import revision history plugin and add it to the list of <code>plugins</code>.</p>
<p>An updated <code>src/ckeditor.js</code> should look like this:</p>
<pre class="highlight"><code class="js">import ClassicEditorBase from &apos;@ckeditor/ckeditor5-editor-classic/src/classiceditor&apos;;

import Essentials from &apos;@ckeditor/ckeditor5-essentials/src/essentials&apos;;
import Paragraph from &apos;@ckeditor/ckeditor5-paragraph/src/paragraph&apos;;
import Bold from &apos;@ckeditor/ckeditor5-basic-styles/src/bold&apos;;
import Italic from &apos;@ckeditor/ckeditor5-basic-styles/src/italic&apos;;
import Image from &apos;@ckeditor/ckeditor5-image/src/image&apos;;
import Table from &apos;@ckeditor/ckeditor5-table/src/table&apos;;

import RevisionHistory from &apos;@ckeditor/ckeditor5-revision-history/src/revisionhistory&apos;;

export default class ClassicEditor extends ClassicEditorBase {}

// Plugins to include in the build.
ClassicEditor.builtinPlugins = [ Essentials, Paragraph, Bold, Italic, Image, Table, RevisionHistory ];

// The editor configuration.
ClassicEditor.defaultConfig = {
    language: &apos;en&apos;
};
</code></pre>
<p>Note that your custom build needs to be bundled using a webpack.</p>
<pre class="highlight"><code class>npm run build
</code></pre>
<div class="info-box notice notice__info"><p>Read more about this topic  in the <a href="../../builds/guides/integration/installing-plugins.html">installing plugins</a> guide.</p></div>
<h3 id="core-setup"><a class="headerlink" href="#core-setup">#</a> Core setup</h3>
<div class="info-box notice notice__info"><p>The examples below implement the <a href="../collaboration/annotations/annotations-display-mode.html#wide-sidebar">wide sidebar display mode</a> to display comments and suggestions.</p></div>
<p>When you have the revision history package included in your custom build, prepare an HTML structure for the sidebar. After that you can enable the revision history plugin.</p>
<p>To browse through the saved revisions, the feature uses an additional editor instance on top of the original editor instance. To enable that, you will need to provide an HTML structure for both the original editor and the revision history editor. The HTML elements for the revision history editor structure should be hidden by default.</p>
<p>To have a proper HTML structure:</p>
<ul>
<li>Add the layout for the document editor and the revision history editor.</li>
<li>Add the <code>sidebar</code> and <code>revisionHistory</code> configurations.</li>
<li>Add the <code>revisionHistory</code> dropdown to the <code>toolbar</code>.</li>
<li>Add your <code>licenseKey</code>. If you do not have a key yet, please <a href="https://ckeditor.com/contact/">contact us</a>.</li>
</ul>
<p>Edit the <code>sample/index.html</code> file as follows:</p>
<pre class="highlight"><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;CKEditor 5 with revision history&lt;/title&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    .editor-container {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        position: relative;
        width: 1260px;
    }

    .ck.ck-editor {
        max-width: 800px;
    }

    #revision-viewer-container {
        display: none;
    }

    .editor-container &gt; .ck-editor {
        position: relative;
        width: 950px;
    }

    .editor-container .ck-editor__top .ck-toolbar {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .editor-container .ck-editor__editable_inline {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .sidebar-container {
        position: relative;
        width: 600px;
        overflow: hidden;
        background: var(--ck-color-toolbar-background);
        border: 1px solid var(--ck-color-toolbar-border);
        margin-left: -1px;
    }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div class=&quot;editors-holder&quot;&gt;
    &lt;!-- The original editor !--&gt;
    &lt;div id=&quot;editor-container&quot;&gt;
        &lt;div class=&quot;editor-container&quot;&gt;
            &lt;div id=&quot;editor&quot;&gt;&lt;/div&gt;
            &lt;div class=&quot;sidebar-container&quot; id=&quot;sidebar-container&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Structure for the revision viewer editor !--&gt;
    &lt;div id=&quot;revision-viewer-container&quot;&gt;
        &lt;div class=&quot;editor-container&quot;&gt;
            &lt;div id=&quot;revision-viewer-editor&quot;&gt;&lt;/div&gt;
            &lt;div class=&quot;sidebar-container&quot; id=&quot;revision-viewer-sidebar&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;script src=&quot;../build/ckeditor.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    ClassicEditor.create( document.querySelector( &apos;#editor&apos; ), {
        licenseKey: &apos;your-license-key&apos;,
        sidebar: {
            container: document.querySelector( &apos;#sidebar-container&apos; )
        },
        revisionHistory: {
            editorContainer: document.querySelector( &apos;#editor-container&apos; ),
            viewerContainer: document.querySelector( &apos;#revision-viewer-container&apos; ),
            viewerEditorElement: document.querySelector( &apos;#revision-viewer-editor&apos; ),
            viewerSidebarContainer: document.querySelector( &apos;#revision-viewer-sidebar&apos; )
        },
        toolbar: {
            items: [ &apos;bold&apos;, &apos;italic&apos;, &apos;|&apos;, &apos;revisionHistory&apos; ]
        }
    } )
    .catch( error =&gt; console.error( error ) );
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>When you open the sample in the browser, you should see the WYSIWYG editor with the revision history plugin. However, it still does not load or save any revision data and the user is not defined. You will learn how to add those later in this guide.</p>
<h2 id="a-simple-load-and-save-integration"><a class="headerlink" href="#a-simple-load-and-save-integration">#</a> A simple &#x201C;load and save&#x201D; integration</h2>
<p>In this solution, users and revisions data are loaded during the editor initialization and revisions data is saved after you finish working with the editor (for example when you submit the form containing the WYSIWYG editor).</p>
<div class="info-box notice"><p>The integration below uses the revision history API. Making yourself familiar with the API may help you understand the code snippets. In case of any problems, refer to the <a href="../../api/revision-history.html">revision history API documentation</a>.</p></div>
<h3 id="loading-the-data"><a class="headerlink" href="#loading-the-data">#</a> Loading the data</h3>
<p>When the revision history plugin is already included in the editor, you need to create a plugin which will initialize users and existing revisions.</p>
<p>First, dump the users and the revisions data to a variable that will be available for your plugin.</p>
<div class="info-box notice"><p>If your application needs to request the revisions data from the server asynchronously, you can create a plugin that will fetch the data from the database instead of putting the data in the HTML source. In such a case, your plugin should <a href="../../api/module_core_plugin-PluginInterface.html#function-init">return a <code>Promise</code> from the <code>Plugin.init</code> method</a> to make sure that the editor initialization waits for your data.</p></div>
<pre class="highlight"><code class="js">// Application data will be available under a global variable `appData`.
const appData = {
    // Initial editor data
    data: `&lt;figure class=&quot;image&quot;&gt;
        &lt;img src=&quot;../../assets/img/revision-history-demo.png&quot;&gt;
    &lt;/figure&gt;
    &lt;h1&gt;PUBLISHING AGREEMENT&lt;/h1&gt;
    &lt;h3&gt;Introduction&lt;/h3&gt;
    &lt;p&gt;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&lt;/p&gt;
    &lt;h3&gt;Grant of Rights&lt;/h3&gt;
    &lt;p&gt;The Author grants the Publisher full right and title to the following, in perpetuity:&lt;/p&gt;
    &lt;ul&gt;
        &lt;li&gt;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&lt;/li&gt;
        &lt;li&gt;To create or devise modified, abridged, or derivative works based on the works listed.&lt;/li&gt;
        &lt;li&gt;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&lt;/li&gt;
    &lt;/ul&gt;
    &lt;p&gt;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&lt;/p&gt;
    &lt;p&gt;Any rights not granted to the Publisher above remain with the Author.&lt;/p&gt;
    &lt;p&gt;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&lt;/p&gt;`,

    // User data.
    user: {
        id: &apos;u1&apos;,
        name: &apos;Joe Doe&apos;,
        // Note that the avatar is optional.
        avatar: &apos;https://randomuser.me/api/portraits/thumb/men/26.jpg&apos;
    },

    // Initial revisions data
    revisions: [
        {
            &quot;id&quot;: &quot;e232bd41cc1d6ff75d3b8f100fc9a070b&quot;,
            &quot;name&quot;: &quot;Initial revision - template&quot;,
            &quot;creatorId&quot;: &quot;u1&quot;,
            &quot;data&quot;: {
                &quot;main&quot;: {
                    &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &#x2026;&#x2026;&#x2026;&#x2026; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &#x2026;&#x2026;&#x2026;&#x2026;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;]}]&apos;,
                    &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &#x2026;&#x2026;&#x2026;&#x2026; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &#x2026;&#x2026;&#x2026;&#x2026;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;]}]&apos;
                }
            },
            &quot;createdAt&quot;: &quot;2021-05-27T13:22:59.077Z&quot;,
            &quot;attributes&quot;: {}
        },
        {
            &quot;id&quot;: &quot;e6f80e6be6ee6057fd5a449ab13fba25d&quot;,
            &quot;name&quot;: &quot;Updated with the actual data&quot;,
            &quot;creatorId&quot;: &quot;u1&quot;,
            &quot;data&quot;: {
                &quot;main&quot;: {
                    &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot;1st&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot; &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:1&quot;]],&quot;children&quot;:[]},&quot;June 2020 &quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:1&quot;]],&quot;children&quot;:[]},&quot;by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:2&quot;]],&quot;children&quot;:[]},&quot;John Smith&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:2&quot;]],&quot;children&quot;:[]},&quot;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;,
                    &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot;&#x2026;&#x2026;&#x2026;&#x2026;&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:1&quot;]],&quot;children&quot;:[]},&quot;&#x2026;&#x2026;&#x2026;&#x2026;&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:1&quot;]],&quot;children&quot;:[]},&quot;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him&quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:2&quot;]],&quot;children&quot;:[]},&quot;/herself&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:2&quot;]],&quot;children&quot;:[]},&quot; and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:3&quot;]],&quot;children&quot;:[]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:3&quot;]],&quot;children&quot;:[]}]}]&apos;
                }
            },
            &quot;createdAt&quot;: &quot;2021-05-27T13:23:52.553Z&quot;,
            &quot;attributes&quot;: {}
        },
        {
            &quot;id&quot;: &quot;e6590c50ccbc86acacb7d27231ad32064&quot;,
            &quot;name&quot;: &quot;Inserted logo&quot;,
            &quot;creatorId&quot;: &quot;u1&quot;,
            &quot;data&quot;: {
                &quot;main&quot;: {
                    &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;figure&quot;,&quot;attributes&quot;:[[&quot;data-revision-start-before&quot;,&quot;insertion:u1:0&quot;],[&quot;class&quot;,&quot;image&quot;]],&quot;children&quot;:[{&quot;name&quot;:&quot;img&quot;,&quot;attributes&quot;:[[&quot;src&quot;,&quot;../../assets/img/revision-history-demo.png&quot;]],&quot;children&quot;:[]}]},{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;,
                    &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[[&quot;data-revision-start-before&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;
                }
            },
            &quot;createdAt&quot;: &quot;2021-05-27T13:26:39.252Z&quot;,
            &quot;attributes&quot;: {}
        }
    ]
};
</code></pre>
<p>Then, prepare a plugin that will read the data from <code>appData</code> and use the <code>Users</code> and <code>RevisionsRepository</code> API.</p>
<pre class="highlight"><code class="js">class RevisionHistoryIntegration {
    constructor( editor ) {
        this.editor = editor;
    }

    static get pluginName() {
        return &apos;RevisionHistoryIntegration&apos;;
    }

    static get requires() {
        return [ &apos;RevisionHistory&apos; ];
    }

    init() {
        const revisionsRepositoryPlugin = this.editor.plugins.get( &apos;RevisionsRepository&apos; );
        const revisions = appData.revisions || [];

        // Load revisions data
        for ( const revision of revisions ) {
            const newRevision = revisionsRepositoryPlugin.createRevision( revision );
            revisionsRepositoryPlugin.addRevision( newRevision );
        }
    }
}

// Initialize users here
class UsersInit {
    constructor( editor ) {
        this.editor = editor;
    }

    static get pluginName() {
        return &apos;UsersInit&apos;;
    }

    static get requires() {
        return [ &apos;Users&apos; ];
    }

    init() {
        const users = this.editor.plugins.get( &apos;Users&apos; );

        users.addUser( appData.user );
        users.defineMe( appData.user.id );
    }
}

// In order to load comments and track changes,
// you should also create the comments and track changes integrations.
</code></pre>
<h3 id="saving-the-data"><a class="headerlink" href="#saving-the-data">#</a> Saving the data</h3>
<div class="info-box notice"><p>Document data and revisions data have to be kept in sync for the feature to work correctly.</p><p>It is important that you always save revisions data and document data together.</p></div>
<p>To save the revisions data you need to get it from the <code>RevisionsRepository</code> plugin first. To do this, use the <code>getRevisions()</code> method.</p>
<p>Then, use the data to save it in your database in a selected way. See the example below.</p>
<pre class="highlight"><code class="js">ClassicEditor
    .create( document.querySelector( &apos;#editor&apos; ), {
        initialData: appData.data,
        extraPlugins: [ UsersInit, RevisionHistoryIntegration ],
        licenseKey: &apos;your-license-key&apos;,
        sidebar: {
            container: document.querySelector( &apos;#sidebar-container&apos; )
        },
        revisionHistory: {
            editorContainer: document.querySelector( &apos;#editor-container&apos; ),
            viewerContainer: document.querySelector( &apos;#revision-viewer-container&apos; ),
            viewerEditorElement: document.querySelector( &apos;#revision-viewer-editor&apos; ),
            viewerSidebarContainer: document.querySelector( &apos;#revision-viewer-sidebar&apos; )
        },
        toolbar: {
            items: [ &apos;bold&apos;, &apos;italic&apos;, &apos;|&apos;, &apos;revisionHistory&apos; ]
        }
    } )
    .then( editor =&gt; {
        // After the editor is initialized, add an action to be performed after a button is clicked.
        document.querySelector( &apos;#get-data&apos; ).addEventListener( &apos;click&apos;, () =&gt; {
            const revisionsRepositoryPlugin = editor.plugins.get( &apos;RevisionsRepository&apos; );

            // Get the data on demand.
            const editorData = editor.data.get();
            const revisionsData = revisionsRepositoryPlugin.getRevisions();

            // Now, use `editorData` and `revisionsData` to save the data in your application.
            console.log( editorData );
            console.log( revisionsData );
        } );
    } )
    .catch( error =&gt; console.error( error ) );
</code></pre>
<div class="info-box notice"><p>It is recommended to stringify the revisions&#x2019; <code>attributes</code> property value to JSON and to save it as a string in your database. Then parse the value from JSON when loading revisions.</p></div>
<h3 id="full-implementation"><a class="headerlink" href="#full-implementation">#</a> Full implementation</h3>
<p>Below you can find the final implementation.</p>
<pre class="highlight"><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;CKEditor 5 with revision history&lt;/title&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    .editor-container {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        position: relative;
        width: 1260px;
    }

    #revision-viewer-container {
        display: none;
    }

    .editor-container &gt; .ck-editor {
        position: relative;
        width: 950px;
    }

    .editor-container .ck-editor__top .ck-toolbar {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .editor-container .ck-editor__editable_inline {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .sidebar-container {
        position: relative;
        width: 600px;
        overflow: hidden;
        background: var(--ck-color-toolbar-background);
        border: 1px solid var(--ck-color-toolbar-border);
        margin-left: -1px;
    }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;button id=&quot;get-data&quot;&gt;Get editor data&lt;/button&gt;
&lt;div class=&quot;editors-holder&quot;&gt;
    &lt;!-- The original editor !--&gt;
    &lt;div id=&quot;editor-container&quot;&gt;
        &lt;div class=&quot;editor-container&quot;&gt;
            &lt;div id=&quot;editor&quot;&gt;&lt;/div&gt;
            &lt;div class=&quot;sidebar-container&quot; id=&quot;sidebar-container&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Structure for the revision viewer editor !--&gt;
    &lt;div id=&quot;revision-viewer-container&quot;&gt;
        &lt;div class=&quot;editor-container&quot;&gt;
            &lt;div id=&quot;revision-viewer-editor&quot;&gt;&lt;/div&gt;
            &lt;div class=&quot;sidebar-container&quot; id=&quot;revision-viewer-sidebar&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;script src=&quot;../build/ckeditor.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    // Application data will be available under a global variable `appData`.
    const appData = {
        // Initial editor data
        data: `&lt;figure class=&quot;image&quot;&gt;
            &lt;img src=&quot;../../assets/img/revision-history-demo.png&quot;&gt;
        &lt;/figure&gt;
        &lt;h1&gt;PUBLISHING AGREEMENT&lt;/h1&gt;
        &lt;h3&gt;Introduction&lt;/h3&gt;
        &lt;p&gt;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&lt;/p&gt;
        &lt;h3&gt;Grant of Rights&lt;/h3&gt;
        &lt;p&gt;The Author grants the Publisher full right and title to the following, in perpetuity:&lt;/p&gt;
        &lt;ul&gt;
            &lt;li&gt;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&lt;/li&gt;
            &lt;li&gt;To create or devise modified, abridged, or derivative works based on the works listed.&lt;/li&gt;
            &lt;li&gt;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&lt;/li&gt;
        &lt;/ul&gt;
        &lt;p&gt;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&lt;/p&gt;
        &lt;p&gt;Any rights not granted to the Publisher above remain with the Author.&lt;/p&gt;
        &lt;p&gt;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&lt;/p&gt;`,

        // User data.
        user: {
            id: &apos;u1&apos;,
            name: &apos;Joe Doe&apos;,
            // Note that the avatar is optional.
            avatar: &apos;https://randomuser.me/api/portraits/thumb/men/26.jpg&apos;
        },

        // Initial revisions data
        revisions: [
            {
                &quot;id&quot;: &quot;e232bd41cc1d6ff75d3b8f100fc9a070b&quot;,
                &quot;name&quot;: &quot;Initial revision - template&quot;,
                &quot;creatorId&quot;: &quot;u1&quot;,
                &quot;data&quot;: {
                    &quot;main&quot;: {
                        &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &#x2026;&#x2026;&#x2026;&#x2026; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &#x2026;&#x2026;&#x2026;&#x2026;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;]}]&apos;,
                        &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &#x2026;&#x2026;&#x2026;&#x2026; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &#x2026;&#x2026;&#x2026;&#x2026;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;]}]&apos;
                    }
                },
                &quot;createdAt&quot;: &quot;2021-05-27T13:22:59.077Z&quot;,
                &quot;attributes&quot;: {}
            },
            {
                &quot;id&quot;: &quot;e6f80e6be6ee6057fd5a449ab13fba25d&quot;,
                &quot;name&quot;: &quot;Updated with the actual data&quot;,
                &quot;creatorId&quot;: &quot;u1&quot;,
                &quot;data&quot;: {
                    &quot;main&quot;: {
                        &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot;1st&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot; &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:1&quot;]],&quot;children&quot;:[]},&quot;June 2020 &quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:1&quot;]],&quot;children&quot;:[]},&quot;by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:2&quot;]],&quot;children&quot;:[]},&quot;John Smith&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:2&quot;]],&quot;children&quot;:[]},&quot;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;,
                        &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot;&#x2026;&#x2026;&#x2026;&#x2026;&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:1&quot;]],&quot;children&quot;:[]},&quot;&#x2026;&#x2026;&#x2026;&#x2026;&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:1&quot;]],&quot;children&quot;:[]},&quot;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him&quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:2&quot;]],&quot;children&quot;:[]},&quot;/herself&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:2&quot;]],&quot;children&quot;:[]},&quot; and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:3&quot;]],&quot;children&quot;:[]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:3&quot;]],&quot;children&quot;:[]}]}]&apos;
                    }
                },
                &quot;createdAt&quot;: &quot;2021-05-27T13:23:52.553Z&quot;,
                &quot;attributes&quot;: {}
            },
            {
                &quot;id&quot;: &quot;e6590c50ccbc86acacb7d27231ad32064&quot;,
                &quot;name&quot;: &quot;Inserted logo&quot;,
                &quot;creatorId&quot;: &quot;u1&quot;,
                &quot;data&quot;: {
                    &quot;main&quot;: {
                        &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;figure&quot;,&quot;attributes&quot;:[[&quot;data-revision-start-before&quot;,&quot;insertion:u1:0&quot;],[&quot;class&quot;,&quot;image&quot;]],&quot;children&quot;:[{&quot;name&quot;:&quot;img&quot;,&quot;attributes&quot;:[[&quot;src&quot;,&quot;../../assets/img/revision-history-demo.png&quot;]],&quot;children&quot;:[]}]},{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;,
                        &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[[&quot;data-revision-start-before&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;
                    }
                },
                &quot;createdAt&quot;: &quot;2021-05-27T13:26:39.252Z&quot;,
                &quot;attributes&quot;: {}
            }
        ]
    };

    class RevisionHistoryIntegration {
        constructor( editor ) {
            this.editor = editor;
        }

        static get pluginName() {
            return &apos;RevisionHistoryIntegration&apos;;
        }

        static get requires() {
            return [ &apos;RevisionHistory&apos; ];
        }

        init() {
            const revisionsRepositoryPlugin = this.editor.plugins.get( &apos;RevisionsRepository&apos; );
            const revisions = appData.revisions || [];

            // Load revisions data
            for ( const revision of revisions ) {
                const newRevision = revisionsRepositoryPlugin.createRevision( revision );
                revisionsRepositoryPlugin.addRevision( newRevision );
            }
        }
    }

    class UsersInit {
        constructor( editor ) {
            this.editor = editor;
        }

        static get pluginName() {
            return &apos;UsersInit&apos;;
        }

        static get requires() {
            return [ &apos;Users&apos; ];
        }

        init() {
            const users = this.editor.plugins.get( &apos;Users&apos; );

            users.addUser( appData.user );
            users.defineMe( appData.user.id );
        }
    }

    // In order to load comments and track changes,
    // you should also create the comments and track changes integrations.

    ClassicEditor
        .create( document.querySelector( &apos;#editor&apos; ), {
            initialData: appData.data,
            extraPlugins: [ UsersInit, RevisionHistoryIntegration ],
            licenseKey: &apos;your-license-key&apos;,
            sidebar: {
                container: document.querySelector( &apos;#sidebar-container&apos; )
            },
            revisionHistory: {
                editorContainer: document.querySelector( &apos;#editor-container&apos; ),
                viewerContainer: document.querySelector( &apos;#revision-viewer-container&apos; ),
                viewerEditorElement: document.querySelector( &apos;#revision-viewer-editor&apos; ),
                viewerSidebarContainer: document.querySelector( &apos;#revision-viewer-sidebar&apos; )
            },
            toolbar: {
                items: [ &apos;bold&apos;, &apos;italic&apos;, &apos;|&apos;, &apos;revisionHistory&apos; ]
            }
        } )
        .then( editor =&gt; {
            // After the editor is initialized, add an action to be performed after a button is clicked.
            document.querySelector( &apos;#get-data&apos; ).addEventListener( &apos;click&apos;, () =&gt; {

                const revisionsRepositoryPlugin = editor.plugins.get( &apos;RevisionsRepository&apos; );

                // Get the data on demand.
                const editorData = editor.data.get();
                const revisionsData = revisionsRepositoryPlugin.getRevisions();

                // Now, use `editorData` and `revisionsData` to save the data in your application.
                console.log( editorData );
                console.log( revisionsData );
            } );
        } )
        .catch( error =&gt; console.error( error ) );
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="demo"><a class="headerlink" href="#demo">#</a> Demo</h3>
<div class="live-snippet"><div class="live-snippet__container loaded revision-integration">
	<div class="row">
        <div class="revision-integration editors-holder">
            <div id="editor-container">
                <div class="editor-container">
                    <div id="editor"></div>
                    <div class="sidebar-container" id="sidebar-container"></div>
                </div>
            </div>
        
			<div id="revision-viewer-container">
				<div class="editor-container">
					<div id="revision-viewer-editor"></div>
					<div class="sidebar-container" id="revision-viewer-sidebar"></div>
				</div>
			</div>
        </div>
	</div>

    <button id="revision-integration-save">Save revisions</button>
</div>

<h3>Console:</h3>
<pre class="highlight language-json" id="revision-integration-console">// Use the `Save revisions` button to see the result...</pre>

<style>
    .editor-container {
        display: flex;
    }
    .sidebar-container {
        min-width: 300px;
        font-size: 20px;
        border: 1px solid var(--ck-color-toolbar-border);
        margin-left: -1px;
        background: var(--ck-color-toolbar-background);
    }
    .revision-integration > button {
		margin-right: 10px;
		color: #333;
		background: hsl(0, 0%, 87%);
		padding: 4px 20px;
		display: inline-block;
		border-radius: 2px;
		font-weight: bold;
		outline: none;
		transition: 300ms ease background;
	}

	.revision-integration > button:hover{
		background: hsl(0, 0%, 82%);
	}

	.revision-integration > button[ disabled ] {
		opacity: 0.2;
		cursor: no-drop;
	}

	#revision-integration-console {
		max-height: 300px;
		overflow: auto;
		white-space: normal;
		background: #2b2c26;
		color: #fff;
		margin-top: 20px;
		transition: background-color 500ms;
	}

	#revision-integration-console.updated {
		background: green;
	}

	.revision-integration-console__suggestions {
		margin-bottom: 10px;
	}

	.revision-integration-console__suggestions::before,
	.revision-integration-console__data::before {
		display: inline-block;
		margin-right: 5px;
		opacity: 0.5;
	}

	.revision-integration-console__suggestions::before {
		content: 'Revisions:'
	}

	.revision-integration-console__data::before {
		content: 'Data:';
	}
	.ck.ck-revision-history-sidebar {
		height: 100%;
	}
	.ck-sidebar-item {
        margin-left: 10px;
        max-width: 275px;
    }

    .live-snippet .ck.ck-editor {
        width: 550px;
    }
</style></div>
<h2 id="adapter-integration"><a class="headerlink" href="#adapter-integration">#</a> Adapter integration</h2>
<p>An adapter integration uses an adapter object &#x2014; provided by you &#x2014; to immediately save revisions data in your data store.</p>
<p>This is a recommended way of integrating revision history with your application as it lets you handle the client-server communication in a more secure way. For example, you can check user permissions, validate sent data or update the data with information obtained on the server side.</p>
<p>Additionally, revisions may include significant amount of data. Loading multiple revisions of a big document may adversely impact the loading time of your application. When using an adapter, the revision data is loaded on demand, when needed, which improves the overall user experience.</p>
<div class="info-box notice"><p>Note that this sample does not contain the comments and track changes adapters. <a href="../collaboration/comments/comments-integration.html#adapter-integration">Check the comments integration guide</a> and <a href="../collaboration/track-changes/track-changes-integration.html#adapter-integration">track changes integration guide</a> to learn how to build a complete solution. Also note that those snippets define the same list of users. Make sure to deduplicate this code and define the list of users only once to avoid errors.</p></div>
<h3 id="implementation"><a class="headerlink" href="#implementation">#</a> Implementation</h3>
<p>First, define the adapter using the <a href="../../api/module_revision-history_revisionhistory-RevisionHistory.html#member-adapter"><code>RevisionHistory#adapter</code></a> property. The adapter methods allow you to load and save changes in your database.</p>
<p>Each change in revisions is performed immediately on the UI side. However, all adapter actions are asynchronous and are performed in the background. Because of this, all adapter methods need to return a <code>Promise</code>. When the promise is resolved, it means that everything went fine and a local change was successfully saved in the data store. When the promise is rejected, the editor throws a <a href="../../api/module_utils_ckeditorerror-CKEditorError.html">CKEditorError</a> error, which works nicely together with the <a href="../watchdog.html">watchdog</a> feature. When you handle the server response, you can decide if the promise should be resolved or rejected.</p>
<p>While the adapter is saving the revision&#x2019;s data, a pending action is automatically added to the editor <a href="../../api/module_core_pendingactions-PendingActions.html"><code>PendingActions</code></a> plugin, so you do not have to worry that the editor will be destroyed before the adapter action has finished.</p>
<p>Now you are ready to implement the adapter.</p>
<pre class="highlight"><code class="js">// Application data will be available under a global variable `appData`
const appData = {
    // Initial editor data
    data: `&lt;figure class=&quot;image&quot;&gt;
        &lt;img src=&quot;../../assets/img/revision-history-demo.png&quot;&gt;
    &lt;/figure&gt;
    &lt;h1&gt;PUBLISHING AGREEMENT&lt;/h1&gt;
    &lt;h3&gt;Introduction&lt;/h3&gt;
    &lt;p&gt;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&lt;/p&gt;
    &lt;h3&gt;Grant of Rights&lt;/h3&gt;
    &lt;p&gt;The Author grants the Publisher full right and title to the following, in perpetuity:&lt;/p&gt;
    &lt;ul&gt;
        &lt;li&gt;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&lt;/li&gt;
        &lt;li&gt;To create or devise modified, abridged, or derivative works based on the works listed.&lt;/li&gt;
        &lt;li&gt;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&lt;/li&gt;
    &lt;/ul&gt;
    &lt;p&gt;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&lt;/p&gt;
    &lt;p&gt;Any rights not granted to the Publisher above remain with the Author.&lt;/p&gt;
    &lt;p&gt;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&lt;/p&gt;`,

    // User data.
    user: {
        id: &apos;u1&apos;,
        name: &apos;Joe Doe&apos;,
        // Note that the avatar is optional.
        avatar: &apos;https://randomuser.me/api/portraits/thumb/men/26.jpg&apos;
    }
}

// Plugin that introduces the adapter.
class RevisionHistoryAdapter {
    constructor( editor ) {
        this.editor = editor;
    }

    static get pluginName() {
        return &apos;RevisionHistoryAdapter&apos;;
    }

    static get requires() {
        return [ &apos;RevisionHistory&apos; ];
    }

    init() {
        const revisionHistory = this.editor.plugins.get( &apos;RevisionHistory&apos; );

        revisionHistory.adapter = {
            getRevisions: ( { channelId } ) =&gt; {
                // Get all revisions for the document with id `channelId`.
                // This should be an asynchronous request to your database.
                // Do not dump your data here -- this is only for testing purposes.
                return Promise.resolve( [
                    {
                        &quot;id&quot;: &quot;e232bd41cc1d6ff75d3b8f100fc9a070b&quot;,
                        &quot;name&quot;: &quot;Initial revision - template&quot;,
                        &quot;creatorId&quot;: &quot;u1&quot;,
                        &quot;createdAt&quot;: &quot;2021-05-27T13:22:59.077Z&quot;,
                        &quot;attributes&quot;: {}
                    },
                    {
                        &quot;id&quot;: &quot;e6f80e6be6ee6057fd5a449ab13fba25d&quot;,
                        &quot;name&quot;: &quot;Updated with the actual data&quot;,
                        &quot;creatorId&quot;: &quot;u1&quot;,
                        &quot;createdAt&quot;: &quot;2021-05-27T13:23:52.553Z&quot;,
                        &quot;attributes&quot;: {}
                    },
                    {
                        &quot;id&quot;: &quot;e6590c50ccbc86acacb7d27231ad32064&quot;,
                        &quot;name&quot;: &quot;Inserted logo&quot;,
                        &quot;creatorId&quot;: &quot;u1&quot;,
                        &quot;createdAt&quot;: &quot;2021-05-27T13:26:39.252Z&quot;,
                        &quot;attributes&quot;: {}
                    }
                ] );
            },
            getRevision: ( { revisionId } ) =&gt; {
                // Get revision data, based on its id.
                // This should be an asynchronous request to your database.
                // Do not dump your revisions data here -- this is only for testing purposes.
                switch ( revisionId ) {
                    case &apos;e232bd41cc1d6ff75d3b8f100fc9a070b&apos;:
                        return Promise.resolve(
                            {
                                &quot;id&quot;: &quot;e232bd41cc1d6ff75d3b8f100fc9a070b&quot;,
                                &quot;name&quot;: &quot;Initial revision - template&quot;,
                                &quot;creatorId&quot;: &quot;u1&quot;,
                                &quot;data&quot;: {
                                    &quot;main&quot;: {
                                        &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &#x2026;&#x2026;&#x2026;&#x2026; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &#x2026;&#x2026;&#x2026;&#x2026;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;]}]&apos;,
                                        &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &#x2026;&#x2026;&#x2026;&#x2026; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &#x2026;&#x2026;&#x2026;&#x2026;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;]}]&apos;
                                    }
                                },
                                &quot;createdAt&quot;: &quot;2021-05-27T13:22:59.077Z&quot;,
                                &quot;attributes&quot;: {}
                            }
                        );
                    case &apos;e6f80e6be6ee6057fd5a449ab13fba25d&apos;:
                        return Promise.resolve(
                            {
                                &quot;id&quot;: &quot;e6f80e6be6ee6057fd5a449ab13fba25d&quot;,
                                &quot;name&quot;: &quot;Updated with the actual data&quot;,
                                &quot;creatorId&quot;: &quot;u1&quot;,
                                &quot;data&quot;: {
                                    &quot;main&quot;: {
                                        &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot;1st&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot; &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:1&quot;]],&quot;children&quot;:[]},&quot;June 2020 &quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:1&quot;]],&quot;children&quot;:[]},&quot;by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:2&quot;]],&quot;children&quot;:[]},&quot;John Smith&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:2&quot;]],&quot;children&quot;:[]},&quot;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;,
                                        &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot;&#x2026;&#x2026;&#x2026;&#x2026;&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:1&quot;]],&quot;children&quot;:[]},&quot;&#x2026;&#x2026;&#x2026;&#x2026;&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:1&quot;]],&quot;children&quot;:[]},&quot;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him&quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:2&quot;]],&quot;children&quot;:[]},&quot;/herself&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:2&quot;]],&quot;children&quot;:[]},&quot; and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:3&quot;]],&quot;children&quot;:[]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:3&quot;]],&quot;children&quot;:[]}]}]&apos;
                                    }
                                },
                                &quot;createdAt&quot;: &quot;2021-05-27T13:23:52.553Z&quot;,
                                &quot;attributes&quot;: {}
                            }
                        );
                    case &apos;e6590c50ccbc86acacb7d27231ad32064&apos;:
                        return Promise.resolve(
                            {
                                &quot;id&quot;: &quot;e6590c50ccbc86acacb7d27231ad32064&quot;,
                                &quot;name&quot;: &quot;Inserted logo&quot;,
                                &quot;creatorId&quot;: &quot;u1&quot;,
                                &quot;data&quot;: {
                                    &quot;main&quot;: {
                                        &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;figure&quot;,&quot;attributes&quot;:[[&quot;data-revision-start-before&quot;,&quot;insertion:u1:0&quot;],[&quot;class&quot;,&quot;image&quot;]],&quot;children&quot;:[{&quot;name&quot;:&quot;img&quot;,&quot;attributes&quot;:[[&quot;src&quot;,&quot;../../assets/img/revision-history-demo.png&quot;]],&quot;children&quot;:[]}]},{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;,
                                        &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[[&quot;data-revision-start-before&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;
                                    }
                                },
                                &quot;createdAt&quot;: &quot;2021-05-27T13:26:39.252Z&quot;,
                                &quot;attributes&quot;: {}
                            }
                        );
                }
            },
            updateRevision: revisionData =&gt; {
                let documentData = null;
                
                if ( revisionData.data ) {
                    // Changes saved in the revision are updated.
                    // Keep the document data in sync and save it as well.
                    documentData = this.editor.getData();
                }

                // This should be an asynchronous request to your database
                // which saves the updated revision data (`revisionData`) and current document data (if needed).
                return Promise.resolve();
            },
            addRevision: revisionData =&gt; {
                const documentData = this.editor.getData();
                
                // This should be an asynchronous request to your database
                // which saves the added revision data (`revisionData`) and current document data.
                return Promise.resolve();
            }
        };
    }
}

// Initialize the users here
class UsersInit {
    constructor( editor ) {
        this.editor = editor;
    }

    static get pluginName() {
        return &apos;UsersInit&apos;;
    }

    static get requires() {
        return [ &apos;Users&apos; ];
    }

    init() {
        const users = this.editor.plugins.get( &apos;Users&apos; );

        users.addUser( appData.user );
        users.defineMe( appData.user.id );
    }
}

// In order to load comments and track changes,
// you should also integrate the comments and track changes adapters.

ClassicEditor
    .create( document.querySelector( &apos;#editor&apos; ), {
        initialData: appData.data,
        extraPlugins: [ UsersInit, RevisionHistoryAdapter ],
        licenseKey: &apos;your-license-key&apos;,
        sidebar: {
            container: document.querySelector( &apos;#sidebar-container&apos; )
        },
        revisionHistory: {
            editorContainer: document.querySelector( &apos;#editor-container&apos; ),
            viewerContainer: document.querySelector( &apos;#revision-viewer-container&apos; ),
            viewerEditorElement: document.querySelector( &apos;#revision-viewer-editor&apos; ),
            viewerSidebarContainer: document.querySelector( &apos;#revision-viewer-sidebar&apos; )
        },
        toolbar: {
            items: [ &apos;bold&apos;, &apos;italic&apos;, &apos;|&apos;, &apos;revisionHistory&apos; ]
        }
    } )
    .catch( error =&gt; console.error( error ) );
</code></pre>
<div class="info-box notice"><p>It is recommended to stringify the revisions&#x2019; <code>attributes</code> property value to JSON and to save it as a string in your database. Then parse the value from JSON when loading revisions.</p></div>
<p>The adapter is now ready to use with your rich text editor.</p>
<h3 id="full-implementation-2"><a class="headerlink" href="#full-implementation-2">#</a> Full implementation</h3>
<pre class="highlight"><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;CKEditor 5 with revision history&lt;/title&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    .editor-container {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        position: relative;
        width: 1260px;
    }

    #revision-viewer-container {
        display: none;
    }

    .editor-container &gt; .ck-editor {
        position: relative;
        width: 950px;
    }

    .editor-container .ck-editor__top .ck-toolbar {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .editor-container .ck-editor__editable_inline {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .sidebar-container {
        position: relative;
        width: 600px;
        overflow: hidden;
        background: var(--ck-color-toolbar-background);
        border: 1px solid var(--ck-color-toolbar-border);
        margin-left: -1px;
    }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div class=&quot;editors-holder&quot;&gt;
    &lt;!-- The original editor !--&gt;
    &lt;div id=&quot;editor-container&quot;&gt;
        &lt;div class=&quot;editor-container&quot;&gt;
            &lt;div id=&quot;editor&quot;&gt;&lt;/div&gt;
            &lt;div class=&quot;sidebar-container&quot; id=&quot;sidebar-container&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Structure for the revision viewer editor !--&gt;
    &lt;div id=&quot;revision-viewer-container&quot;&gt;
        &lt;div class=&quot;editor-container&quot;&gt;
            &lt;div id=&quot;revision-viewer-editor&quot;&gt;&lt;/div&gt;
            &lt;div class=&quot;sidebar-container&quot; id=&quot;revision-viewer-sidebar&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;script src=&quot;../build/ckeditor.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    // Application data will be available under a global variable `appData`.
    const appData = {
        // Initial editor data
        data: `&lt;figure class=&quot;image&quot;&gt;
            &lt;img src=&quot;../../assets/img/revision-history-demo.png&quot;&gt;
        &lt;/figure&gt;
        &lt;h1&gt;PUBLISHING AGREEMENT&lt;/h1&gt;
        &lt;h3&gt;Introduction&lt;/h3&gt;
        &lt;p&gt;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&lt;/p&gt;
        &lt;h3&gt;Grant of Rights&lt;/h3&gt;
        &lt;p&gt;The Author grants the Publisher full right and title to the following, in perpetuity:&lt;/p&gt;
        &lt;ul&gt;
            &lt;li&gt;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&lt;/li&gt;
            &lt;li&gt;To create or devise modified, abridged, or derivative works based on the works listed.&lt;/li&gt;
            &lt;li&gt;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&lt;/li&gt;
        &lt;/ul&gt;
        &lt;p&gt;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&lt;/p&gt;
        &lt;p&gt;Any rights not granted to the Publisher above remain with the Author.&lt;/p&gt;
        &lt;p&gt;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&lt;/p&gt;`,

        // User data.
        user: {
            id: &apos;u1&apos;,
            name: &apos;Joe Doe&apos;,
            // Note that the avatar is optional.
            avatar: &apos;https://randomuser.me/api/portraits/thumb/men/26.jpg&apos;
        }
    }

    // Plugin that introduces the adapter.
    class RevisionHistoryAdapter {
        constructor( editor ) {
            this.editor = editor;
        }

        static get pluginName() {
            return &apos;RevisionHistoryAdapter&apos;;
        }

        static get requires() {
            return [ &apos;RevisionHistory&apos; ];
        }

        init() {
            const revisionHistory = this.editor.plugins.get( &apos;RevisionHistory&apos; );

            revisionHistory.adapter = {
                getRevisions: ( { channelId } ) =&gt; {
                    // Get all revisions for the document with id `channelId`.
                    // This should be an asynchronous request to your database.
                    // Do not dump your data here -- this is only for testing purposes.
                    return Promise.resolve( [
                        {
                            &quot;id&quot;: &quot;e232bd41cc1d6ff75d3b8f100fc9a070b&quot;,
                            &quot;name&quot;: &quot;Initial revision - template&quot;,
                            &quot;creatorId&quot;: &quot;u1&quot;,
                            &quot;createdAt&quot;: &quot;2021-05-27T13:22:59.077Z&quot;,
                            &quot;attributes&quot;: {}
                        },
                        {
                            &quot;id&quot;: &quot;e6f80e6be6ee6057fd5a449ab13fba25d&quot;,
                            &quot;name&quot;: &quot;Updated with the actual data&quot;,
                            &quot;creatorId&quot;: &quot;u1&quot;,
                            &quot;createdAt&quot;: &quot;2021-05-27T13:23:52.553Z&quot;,
                            &quot;attributes&quot;: {}
                        },
                        {
                            &quot;id&quot;: &quot;e6590c50ccbc86acacb7d27231ad32064&quot;,
                            &quot;name&quot;: &quot;Inserted logo&quot;,
                            &quot;creatorId&quot;: &quot;u1&quot;,
                            &quot;createdAt&quot;: &quot;2021-05-27T13:26:39.252Z&quot;,
                            &quot;attributes&quot;: {}
                        }
                    ] );
                },
                getRevision: ( { revisionId } ) =&gt; {
                    // Get revision data, based on its id.
                    // This should be an asynchronous request to your database.
                    // Do not dump your revisions data here -- this is only for testing purposes.
                    switch ( revisionId ) {
                        case &apos;e232bd41cc1d6ff75d3b8f100fc9a070b&apos;:
                            return Promise.resolve(
                                    {
                                        &quot;id&quot;: &quot;e232bd41cc1d6ff75d3b8f100fc9a070b&quot;,
                                        &quot;name&quot;: &quot;Initial revision - template&quot;,
                                        &quot;creatorId&quot;: &quot;u1&quot;,
                                        &quot;data&quot;: {
                                            &quot;main&quot;: {
                                                &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &#x2026;&#x2026;&#x2026;&#x2026; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &#x2026;&#x2026;&#x2026;&#x2026;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;]}]&apos;,
                                                &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &#x2026;&#x2026;&#x2026;&#x2026; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &#x2026;&#x2026;&#x2026;&#x2026;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;]}]&apos;
                                            }
                                        },
                                        &quot;createdAt&quot;: &quot;2021-05-27T13:22:59.077Z&quot;,
                                        &quot;attributes&quot;: {}
                                    }
                            );
                        case &apos;e6f80e6be6ee6057fd5a449ab13fba25d&apos;:
                            return Promise.resolve(
                                    {
                                        &quot;id&quot;: &quot;e6f80e6be6ee6057fd5a449ab13fba25d&quot;,
                                        &quot;name&quot;: &quot;Updated with the actual data&quot;,
                                        &quot;creatorId&quot;: &quot;u1&quot;,
                                        &quot;data&quot;: {
                                            &quot;main&quot;: {
                                                &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot;1st&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot; &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:1&quot;]],&quot;children&quot;:[]},&quot;June 2020 &quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:1&quot;]],&quot;children&quot;:[]},&quot;by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:2&quot;]],&quot;children&quot;:[]},&quot;John Smith&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:2&quot;]],&quot;children&quot;:[]},&quot;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;,
                                                &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot;&#x2026;&#x2026;&#x2026;&#x2026;&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot; by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and &quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:1&quot;]],&quot;children&quot;:[]},&quot;&#x2026;&#x2026;&#x2026;&#x2026;&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:1&quot;]],&quot;children&quot;:[]},&quot;, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him&quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:2&quot;]],&quot;children&quot;:[]},&quot;/herself&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:2&quot;]],&quot;children&quot;:[]},&quot; and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;,{&quot;name&quot;:&quot;revision-start&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:3&quot;]],&quot;children&quot;:[]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Publishing formats are enumerated in Appendix A.&quot;,{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:3&quot;]],&quot;children&quot;:[]}]}]&apos;
                                            }
                                        },
                                        &quot;createdAt&quot;: &quot;2021-05-27T13:23:52.553Z&quot;,
                                        &quot;attributes&quot;: {}
                                    }
                            );
                        case &apos;e6590c50ccbc86acacb7d27231ad32064&apos;:
                            return Promise.resolve(
                                    {
                                        &quot;id&quot;: &quot;e6590c50ccbc86acacb7d27231ad32064&quot;,
                                        &quot;name&quot;: &quot;Inserted logo&quot;,
                                        &quot;creatorId&quot;: &quot;u1&quot;,
                                        &quot;data&quot;: {
                                            &quot;main&quot;: {
                                                &quot;insertions&quot;: &apos;[{&quot;name&quot;:&quot;figure&quot;,&quot;attributes&quot;:[[&quot;data-revision-start-before&quot;,&quot;insertion:u1:0&quot;],[&quot;class&quot;,&quot;image&quot;]],&quot;children&quot;:[{&quot;name&quot;:&quot;img&quot;,&quot;attributes&quot;:[[&quot;src&quot;,&quot;../../assets/img/revision-history-demo.png&quot;]],&quot;children&quot;:[]}]},{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;insertion:u1:0&quot;]],&quot;children&quot;:[]},&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;,
                                                &quot;deletions&quot;: &apos;[{&quot;name&quot;:&quot;h1&quot;,&quot;attributes&quot;:[[&quot;data-revision-start-before&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[{&quot;name&quot;:&quot;revision-end&quot;,&quot;attributes&quot;:[[&quot;name&quot;,&quot;deletion:u1:0&quot;]],&quot;children&quot;:[]},&quot;PUBLISHING AGREEMENT&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Introduction&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;This publishing contract, the &#x201C;contract&#x201D;, is entered into as of 1st June 2020 by and between The Lower Shelf, the &#x201C;Publisher&#x201D;, and John Smith, the &#x201C;Author&#x201D;.&quot;]},{&quot;name&quot;:&quot;h3&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Grant of Rights&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The Author grants the Publisher full right and title to the following, in perpetuity:&quot;]},{&quot;name&quot;:&quot;ul&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To create or devise modified, abridged, or derivative works based on the works listed.&quot;]},{&quot;name&quot;:&quot;li&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&quot;]}]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;Any rights not granted to the Publisher above remain with the Author.&quot;]},{&quot;name&quot;:&quot;p&quot;,&quot;attributes&quot;:[],&quot;children&quot;:[&quot;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&quot;]}]&apos;
                                            }
                                        },
                                        &quot;createdAt&quot;: &quot;2021-05-27T13:26:39.252Z&quot;,
                                        &quot;attributes&quot;: {}
                                    }
                            );
                    }
                },
                updateRevision: revisionData =&gt; {
                    let documentData = null;

                    if ( revisionData.data ) {
                        // Changes saved in the revision are updated.
                        // Keep the document data in sync and save it as well.
                        documentData = this.editor.getData();
                    }

                    // This should be an asynchronous request to your database
                    // which saves the updated revision data (`revisionData`) and current document data (if needed).
                    return Promise.resolve();
                },
                addRevision: revisionData =&gt; {
                    const documentData = this.editor.getData();

                    // This should be an asynchronous request to your database
                    // which saves the added revision data (`revisionData`) and current document data.
                    return Promise.resolve();
                }
            };
        }
    }

    // Initialize the users here
    class UsersInit {
        constructor( editor ) {
            this.editor = editor;
        }

        static get pluginName() {
            return &apos;UsersInit&apos;;
        }

        static get requires() {
            return [ &apos;Users&apos; ];
        }

        init() {
            const users = this.editor.plugins.get( &apos;Users&apos; );

            users.addUser( appData.user );
            users.defineMe( appData.user.id );
        }
    }

    // In order to load comments and track changes,
    // you should also integrate the comments and track changes adapters.

    ClassicEditor
        .create( document.querySelector( &apos;#editor&apos; ), {
            initialData: appData.data,
            extraPlugins: [ UsersInit, RevisionHistoryAdapter ],
            licenseKey: &apos;your-license-key&apos;,
            sidebar: {
                container: document.querySelector( &apos;#sidebar-container&apos; )
            },
            revisionHistory: {
                editorContainer: document.querySelector( &apos;#editor-container&apos; ),
                viewerContainer: document.querySelector( &apos;#revision-viewer-container&apos; ),
                viewerEditorElement: document.querySelector( &apos;#revision-viewer-editor&apos; ),
                viewerSidebarContainer: document.querySelector( &apos;#revision-viewer-sidebar&apos; )
            },
            toolbar: {
                items: [ &apos;bold&apos;, &apos;italic&apos;, &apos;|&apos;, &apos;revisionHistory&apos; ]
            }
        } )
        .catch( error =&gt; console.error( error ) );
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="demo-2"><a class="headerlink" href="#demo-2">#</a> Demo</h3>
<div class="live-snippet"><div class="live-snippet__container loaded revision-integration">
	<div class="row">
        <div class="revision-adapter editors-holder">
            <div id="editor-container">
                <div class="editor-container">
                    <div id="editor"></div>
                    <div class="sidebar-container" id="sidebar-container"></div>
                </div>
            </div>
        
			<div id="revision-viewer-container">
				<div class="editor-container">
					<div id="revision-viewer-editor"></div>
					<div class="sidebar-container" id="revision-viewer-sidebar"></div>
				</div>
			</div>
        </div>
	</div>
</div>
<h3>Revision history adapter actions console:</h3>

<pre class="highlight language-json" id="revision-adapter-console">// Create new version to see the result...</pre>

<style>
    .editor-container {
        display: flex;
    }
    .sidebar-container {
        min-width: 300px;
        font-size: 20px;
        border: 1px solid var(--ck-color-toolbar-border);
        margin-left: -1px;
        background: var(--ck-color-toolbar-background);
    }
    #revision-adapter-console {
		padding: 20px;
		overflow: auto;
		white-space: normal;
		background: #2b2c26;
		color: #fff;
		word-break: break-all;
		transition: background-color 500ms;
	}

	#revision-viewer-container {
        display: none;
    }
	
	#revision-adapter-console.updated {
		background: green;
	}

	.revision-adapter-console__action::before,
	.revision-adapter-console__data::before {
		display: inline-block;
		margin-right: 5px;
		opacity: 0.5;
	}

	.revision-adapter-console__action::before {
		content: 'Action:'
	}

	.revision-adapter-console__data::before {
		content: 'Versions data:';
	}
	.ck.ck-revision-history-sidebar {
		height: 100%;
	}
    .ck-sidebar-item {
        margin-left: 10px;
        max-width: 275px;
    }

    .live-snippet .ck.ck-editor {
        width: 550px;
    }
	@media only screen and (min-width: 1600px) {
        .main .main__content-inner {
            width: 905px;
        }
    }
</style></div>
<h2 id="pending-actions"><a class="headerlink" href="#pending-actions">#</a> Pending actions</h2>
<p>Revision history uses pending actions in two ways:</p>
<ol>
<li>Pending actions are added when revisions data is being updated through the revisions adapter, to prevent closing the editor before the update finishes.</li>
<li>It is impossible to save a revision or open revision history view when there is a pending action (for example, when autosave is processed, or when an image uploads). <em>This behavior may change in the future.</em></li>
</ol>
<h2 id="autosave-integration"><a class="headerlink" href="#autosave-integration">#</a> Autosave integration</h2>
<p>Below section describes how to correctly integrate revision history with the autosave plugin. This way you can frequently save both your document data and your revisions data, and keep them in sync.</p>
<div class="info-box notice"><p>Although this guide provides ready-to-use snippets, we encourage you to also read <a href="#how-revisions-are-saved-and-updated">How revisions are saved and updated</a> section to get a better understanding of this subject.</p></div>
<p>If the autosave plugin is enabled, the autosave callback is called when revision history view is opened.</p>
<p>The integration differs a bit whether you use adapter or not.</p>
<h3 id="autosave-and-load-save-integration"><a class="headerlink" href="#autosave-and-load-save-integration">#</a> Autosave and &#x201C;load &amp; save&#x201D; integration</h3>
<p>Update the revision and make sure that the updated or created revision is saved together with the editor data:</p>
<pre class="highlight"><code class="js">autosave: {
    save: editor =&gt; {
        const revisionTracker = editor.plugins.get( &apos;RevisionTracker&apos; );
        const revision = revisionTracker.updateRevision();
        const documentData = editor.getData();
        
        // `saveData()` should save document and revision data in your database
        // and return a `Promise` that resolves when the save is completed.
        return saveData( documentData, revision );
    }
}
</code></pre>
<h3 id="autosave-and-adapter-integration"><a class="headerlink" href="#autosave-and-adapter-integration">#</a> Autosave and adapter integration</h3>
<p>Integration when using the adapter is easier, because your revision adapter should save the document data as well, as was already shown in the earlier examples.</p>
<p>Since the adapter already takes care of saving the document data, all that needs to be done in the autosave integration is updating the revision:</p>
<pre class="highlight"><code class="js">autosave: {
    save: editor =&gt; {
        editor.plugins.get( &apos;RevisionTracker&apos; ).updateRevision();
        
        return Promise.resolve();
    }
}
</code></pre>
<h3 id="advanced-autosave-strategies"><a class="headerlink" href="#advanced-autosave-strategies">#</a> Advanced autosave strategies</h3>
<p>Presented integrations will simply keep on updating the same revision until the user explicitly saves or names current revision.</p>
<p>This may result in creating a very big revision, containing a lot of changes. To prevent that, autosave integration could lock revisions basing on your custom strategy.</p>
<p>For example, you may decide to lock current revision after chosen number of autosave callbacks since the last locked revision:</p>
<pre class="highlight"><code class="js">// Create a new plugin that will handle the autosave logic.
class RevisionHistoryAutosaveIntegration extends Plugin {
    init() {
        this.lockAfter = 100;
        this.autosaveCount = 0;
    }
    
    autosave() {
        const revisionTracker = this.editor.plugins.get( &apos;RevisionTracker&apos; );
        
        if ( revisionTracker.isLocked ) {
            // Revision could get locked last time the autosave was called, or
            // the user might have saved or named a revision,
            this.autosaveCount = 0;
        }
        
        const isLocked = this.autosaveCount === this.lockAfter;
        
        revisionTracker.updateRevision( { isLocked } );
        // Get the editor data and perform call to your database
        // if you are using &quot;load &amp; save&quot; integration.
        
        this.autosaveCount++;
        
        return Promise.resolve();
    }
}

ClassicEditor
    .create( document.querySelector( &apos;#editor&apos; ), {
        extraPlugins: [
            // ...
            // Add the new plugin to the editor configuration:
            RevisionHistoryAutosaveIntegration
        ],
        // ...
        // Add autosave configuration -- call the plugin method:
        autosave: {
            save: editor =&gt; {
                return editor.plugins.get( RevisionHistoryAutosaveIntegration ).autosave();
            }
        }
    } )
    .catch( error =&gt; console.error( error ) );
</code></pre>
<p>Similarly, you can implement a locking strategy that would include time since the last locked revision, number of operations, or multiple variables used together to decide if a revision should be locked.</p>
<h2 id="how-revisions-are-saved-and-updated"><a class="headerlink" href="#how-revisions-are-saved-and-updated">#</a> How revisions are saved and updated</h2>
<p>Understanding revision lifecycle is important when it comes to writing custom code that integrates with revision history, including autosave integration.</p>
<p>A revision is updated (or a new revision is created) in following scenarios:</p>
<ul>
<li>A user saves a revision using the dropdown in the toolbar.</li>
<li>A user opens revision history view when there are yet unsaved changes in the document.</li>
<li>A user names a revision when the revision history view is open, using the sidebar.</li>
</ul>
<p>You can also use the feature API to update a revision:</p>
<pre class="highlight"><code class="js">const revisionTrackerPlugin = this.editor.plugins.get( &apos;RevisionTracker&apos; );

revisionTrackerPlugin.updateRevision();
</code></pre>
<h3 id="unlocked-and-locked-revisions"><a class="headerlink" href="#unlocked-and-locked-revisions">#</a> Unlocked and locked revisions</h3>
<p>Before moving forward, it is important to understand differences between unlocked and locked revisions.</p>
<p>As long as the revision is unlocked, it can be updated to include the latest document changes. It can be seen as &#x201C;work in progress&#x201D;. Since unlocked revision can be updated, it should be used for autosave purposes, so that frequent saves do not create hundreds of revisions. When a revision is updated with new document changes, its creation date is updated as well. Keep in mind that unlocked revision cannot have a name and only the most recent revision can be unlocked.</p>
<p>On the other hand, locked revisions are considered &#x201C;complete&#x201D;. Revision becomes locked when it is explicitly saved by a user (through UI) or when it becomes named. After a revision is locked, new document changes are saved as a new revision.</p>
<p>You can decide whether the current revision should become locked or not by passing <code>isLocked</code> parameter in <code>updateRevision()</code> call:</p>
<pre class="highlight"><code class="js">// Assuming the editor just initialized, a new revision will be created.
// By default (if no parameters are passed), the revision is not locked.
revisionTracker.updateRevision(); 

// Update current revision with the latest document changes.
revisionTracker.updateRevision();

// Update current revision with the latest document changes and lock it.
revisionTracker.updateRevision( { isLocked: true } );
// Keep in mind that at this point, there is still only one revision.

// Since the most recent revision is locked,
// recent document changes will be saved as a new revision.
revisionTracker.updateRevision();
// At this point, there are two revisions in the editor.

// Update current revision with the lastest document changes.
// Giving a name to a revision automatically locks it.
revisionTracker.updateRevision( { name: &apos;Revision name&apos; } );
// There are still two revisions in the editor,
// both are locked and the most recent one is named.
</code></pre>
<p>Lastly, revisions loaded when the editor is initialized become locked.</p>
<h3 id="revision-creation-and-update-flow"><a class="headerlink" href="#revision-creation-and-update-flow">#</a> Revision creation and update flow</h3>
<p>Complementary, the following chart shows how revisions are created and updated.</p>
<p><img src="../../assets/img/revisions-update-flow.jpg" data-lightbox="true" alt="Revision creation and update flow chart"></p>
<p><em>The chart assumes that the revisions and document data is saved in a database whenever a revision is created or updated. If you use &#x201C;load &amp; save&#x201D; integration without an autosave plugin, you can lose your data due to editor closing unexpectedly at any point.</em></p>
<ul>
<li>Gray boxes are locked revisions.</li>
<li>White boxes are unlocked revisions.</li>
<li>Revisions without a name display creation/update date.</li>
<li>&#x201C;Recorded changes&#x201D; is internal revision history data.</li>
<li>&#x201C;Editor closes unexpectedly&#x201D; is e.g. power outage.</li>
</ul>

        </div>
      </section>
      <div class="side-navigation">
        <div class="side-navigation__wrapper">
          <nav class="side-navigation__inner">
            <ul class="tree guide-tree">
                          <li><a href="../autoformat.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Autoformatting</span>
                              </div></a></li>
                          <li><a href="../text-transformation.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Automatic text transformation</span>
                              </div></a></li>
                          <li><a href="../basic-styles.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Basic text styles</span>
                              </div></a></li>
                          <li><a href="../indent.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block indentation</span>
                              </div></a></li>
                          <li><a href="../block-quote.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block quote</span>
                              </div></a></li>
                          <li><a href="../code-blocks.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Code blocks</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Collaboration</span></div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../collaboration/collaboration.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                        </div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Comments</span></div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../collaboration/comments/comments.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/comments/comments-integration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/comments/comments-only-mode.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Comments-only mode</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/comments/comments-outside-editor.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Comments outside editor</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Track changes</span></div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../collaboration/track-changes/track-changes.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/track-changes/track-changes-integration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/track-changes/track-changes-custom-features.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom features</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/track-changes/track-changes-data.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Saving data without suggestions</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Real-time collaboration</span></div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../collaboration/real-time-collaboration/real-time-collaboration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/real-time-collaboration/real-time-collaboration-integration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/real-time-collaboration/users-in-real-time-collaboration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Users in real-time collaboration</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li><a href="../collaboration/users.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Users</span>
                                        </div></a></li>
                                    <li><a href="../collaboration/context-and-collaboration-features.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Context and collaboration features</span>
                                        </div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Annotations</span></div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../collaboration/annotations/annotations.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/annotations/annotations-display-mode.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Display mode</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/annotations/annotations-custom-configuration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Configuration</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/annotations/annotations-custom-theme.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom theme</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/annotations/annotations-custom-template.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom template</span>
                                                  </div></a></li>
                                              <li><a href="../collaboration/annotations/annotations-custom-view.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom view</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                            </ul>
                          </li>
                          <li><a href="../minimap.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Content minimap</span><span class="tree__item__badge tree__item__badge_new">New</span>
                              </div></a></li>
                          <li><a href="../title.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document title</span>
                              </div></a></li>
                          <li><a href="../editor-placeholder.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor placeholder</span>
                              </div></a></li>
                          <li><a href="../export-pdf.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Export to PDF</span>
                              </div></a></li>
                          <li><a href="../export-word.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Export to Word</span>
                              </div></a></li>
                          <li><a href="../find-and-replace.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Find and replace</span><span class="tree__item__badge tree__item__badge_new">New</span>
                              </div></a></li>
                          <li><a href="../font.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Font</span>
                              </div></a></li>
                          <li><a href="../general-html-support.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">General HTML Support</span><span class="tree__item__badge tree__item__badge_new">New</span>
                              </div></a></li>
                          <li><a href="../headings.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Headings</span>
                              </div></a></li>
                          <li><a href="../highlight.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Highlight</span>
                              </div></a></li>
                          <li><a href="../horizontal-line.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Horizontal line</span>
                              </div></a></li>
                          <li><a href="../html-embed.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">HTML embed</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Images</span></div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../images/images-overview.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                        </div></a></li>
                                    <li><a href="../images/images-text-alternative.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text alternative</span>
                                        </div></a></li>
                                    <li><a href="../images/images-captions.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Image captions</span>
                                        </div></a></li>
                                    <li><a href="../images/images-resizing.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Resizing images</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                        </div></a></li>
                                    <li><a href="../images/images-styles.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Image styles</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                        </div></a></li>
                                    <li><a href="../images/images-linking.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Linking images</span>
                                        </div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Image upload</span></div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../images/image-upload/image-upload.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="../images/image-upload/easy-image.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Easy Image</span>
                                                  </div></a></li>
                                              <li><a href="../images/image-upload/ckfinder.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">CKFinder file manager</span>
                                                  </div></a></li>
                                              <li><a href="../images/image-upload/base64-upload-adapter.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Base64 upload adapter</span>
                                                  </div></a></li>
                                              <li><a href="../images/image-upload/simple-upload-adapter.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Simple upload adapter</span>
                                                  </div></a></li>
                                              <li><a href="../images/image-upload/images-inserting.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Inserting images via URL</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li><a href="../images/images-installation.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Installation</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../keyboard-support.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Keyboard support</span>
                              </div></a></li>
                          <li><a href="../link.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Link</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Lists</span></div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../lists/lists.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Ordered and unordered lists</span>
                                        </div></a></li>
                                    <li><a href="../lists/todo-lists.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">To-do lists</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../markdown.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Markdown output</span>
                              </div></a></li>
                          <li><a href="../math-equations.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Math and chemical formulas</span>
                              </div></a></li>
                          <li><a href="../media-embed.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Media embed</span>
                              </div></a></li>
                          <li><a href="../mentions.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Mentions</span>
                              </div></a></li>
                          <li><a href="../page-break.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Page break</span>
                              </div></a></li>
                          <li><a href="../pagination.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Pagination</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Pasting</span></div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../pasting/paste-from-word.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste from Word</span>
                                        </div></a></li>
                                    <li><a href="../pasting/paste-from-google-docs.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste from Google Docs</span>
                                        </div></a></li>
                                    <li><a href="../pasting/paste-plain-text.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste plain text</span>
                                        </div></a></li>
                                    <li><a href="../pasting/drag-drop.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Drag and drop</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../read-only.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Read-only support</span>
                              </div></a></li>
                          <li><a href="../remove-format.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Remove formatting</span>
                              </div></a></li>
                          <li><a href="../restricted-editing.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Restricted editing</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Revision history</span></div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="revision-history.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                        </div></a></li>
                                    <li><a href="">
                                        <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Integration</span><span class="tree__item__badge tree__item__badge_new">New</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../select-all.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Select all</span>
                              </div></a></li>
                          <li><a href="../source-editing.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Source editing</span><span class="tree__item__badge tree__item__badge_new">New</span>
                              </div></a></li>
                          <li><a href="../special-characters.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Special characters</span>
                              </div></a></li>
                          <li><a href="../spelling-and-grammar-checking.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Spelling and grammar checking</span>
                              </div></a></li>
                          <li><a href="../table.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Tables</span><span class="tree__item__badge tree__item__badge_new">New</span>
                              </div></a></li>
                          <li><a href="../text-alignment.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text alignment</span>
                              </div></a></li>
                          <li><a href="../language.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text part language</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Toolbar</span></div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../toolbar/toolbar.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor toolbar</span>
                                        </div></a></li>
                                    <li><a href="../toolbar/blocktoolbar.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block toolbar</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../ui-language.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI language</span>
                              </div></a></li>
                          <li><a href="../watchdog.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Watchdog</span>
                              </div></a></li>
                          <li><a href="../word-count.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Word and character count</span>
                              </div></a></li>
            </ul>
          </nav>
        </div>
      </div>
    </main>
    <footer class="footer footer--bordered">
      <p>&copy; 2003-2021 <a href="http://cksource.com" target="_blank" rel="noopener">CKSource</a>. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
docsearch({
apiKey:'fc463c26455365ad403d5ec51796cd73',indexName:'ckeditor_nightly',inputSelector:'#docsearch_input',algoliaOptions:{hitsPerPage:250,attributesToRetrieve:'*',facetFilters:['tags: ckeditor5']},
transformData: function( hits ) {var sortingFn = function( a, b ) {a.custom_ranking = a.custom_ranking || 0;b.custom_ranking = b.custom_ranking || 0;if ( a.custom_ranking === b.custom_ranking ) return a.index - b.index;if ( a.custom_ranking > b.custom_ranking ) return -1;if ( a.custom_ranking < b.custom_ranking ) return 1;};var result = [];var tags = [ 'builds', 'framework', 'examples', 'features', 'api' ];var hitsGrouped = { api: [] };hitsGrouped[ 'features' ] = hits.filter( function( h ) {return h.tags.includes( 'features' );} ).slice( 0, 7 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn );tags.forEach( function( tag ) {if ( tag !== 'features' ) {hitsGrouped[ tag ] = hits.filter( function( h ) {return h.tags.includes( tag );} ).slice( 0, 10 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn ).slice( 0, 3 );}} );var apiSearchHits = [];if ( window.apiSearch ) apiSearchHits = window.apiSearch();hitsGrouped.api = hitsGrouped.api.filter( function( h ) {var isDuplicated = false;for ( var i = 0; i < apiSearchHits.length; i++ ) {if ( h.url.includes( apiSearchHits[ i ].urlShort ) ) {isDuplicated = true;break;}}return !isDuplicated;} );hitsGrouped.api = ( apiSearchHits || [] ).concat( hitsGrouped.api );result = result.concat( hitsGrouped[ 'features' ] );tags.forEach( function( tag ) {if ( tag !== 'features' ) result = result.concat( hitsGrouped[ tag ].slice( 0, 4 ) );} );return result;}
});
</script>
    <script src="../../assets/snippet.js"></script>
    <script src="../../snippets/assets.js"></script>
    <script src="../../snippets/features/revision-history-build/snippet.js"></script>
    <script src="../../snippets/features/revision-history-load-save-integration/snippet.js"></script>
    <script src="../../snippets/features/revision-history-adapter/snippet.js"></script>
  </body>
</html>