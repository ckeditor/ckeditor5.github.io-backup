/*!
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{"use strict";const e={tokenUrl:"https://33333.cke-cs.com/token/dev/ijrDsqFix838Gh3wGO3F77FSW94BwcLXprJ4APSp3XQ26xsUHTi0jcb1hoBt",uploadUrl:"https://33333.cke-cs.com/easyimage/upload/"};function o(e,o,t){const n=o.viewItem;if(!n.hasClass("info-box"))return;const i=t.writer.createElement("infoBox",{infoBoxType:a(n)});if(!t.safeInsert(i,o.modelCursor))return;t.consumable.consume(n,{name:!0});const r=n.getChild(0),s=n.getChild(1);t.consumable.consume(r,{name:!0}),t.consumable.consume(s,{name:!0}),t.convertChildren(s,i),t.updateConversionResult(i,o)}function t(e,o,t){let{infoBox:n,infoBoxContent:s,infoBoxTitle:a}=i(o,t);n=toWidget(n,t.writer,{label:"info box widget"}),s=toWidgetEditable(s,t.writer),r(o,t,n,a,s)}function n(e,o,t){const{infoBox:n,infoBoxContent:s,infoBoxTitle:a}=i(o,t);r(o,t,n,a,s)}function i(e,o){const t=e.item.getAttribute("infoBoxType");return{infoBox:o.writer.createContainerElement("div",{class:`info-box info-box-${t.toLowerCase()}`}),infoBoxContent:o.writer.createEditableElement("div",{class:"info-box-content"}),infoBoxTitle:o.writer.createUIElement("div",{class:"info-box-title"},(function(e){const o=this.toDomElement(e);return o.innerText=t,o}))}}function r(e,o,t,n,i){o.consumable.consume(e.item,"insert"),o.writer.insert(o.writer.createPositionAt(t,0),n),o.writer.insert(o.writer.createPositionAt(t,1),i),o.mapper.bindElements(e.item,t),o.writer.insert(o.mapper.toViewPosition(e.range.start),t)}function s(e){return(o,t)=>{const n=t.modelPosition,i=n.parent;if(!i.is("element","infoBox"))return;const r=t.mapper.toViewElement(i),s=function(e,o){for(const t of e.createRangeIn(o))if(t.item.is("element","div")&&t.item.hasClass("info-box-content"))return t.item}(e,r);t.viewPosition=t.mapper.findPositionIn(s,n.offset)}}function a(e){return e.hasClass("info-box-info")?"Info":e.hasClass("info-box-warning")?"Warning":"None"}ClassicEditor.create(document.querySelector("#editor-custom-element-converter"),{cloudServices:e,extraPlugins:[class{constructor(e){e.model.schema.register("infoBox",{allowWhere:"$block",allowContentOf:"$root",isObject:!0,allowAttributes:["infoBoxType"]}),e.conversion.for("upcast").add((e=>e.on("element:div",o))),e.conversion.for("editingDowncast").add((e=>e.on("insert:infoBox",t))),e.conversion.for("dataDowncast").add((e=>e.on("insert:infoBox",n))),e.editing.mapper.on("modelToViewPosition",s(e.editing.view)),e.data.mapper.on("modelToViewPosition",s(e.editing.view))}}],image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},ui:{viewportOffset:{top:window.getViewportTopOffsetConfig()}}}).then((e=>{window.editor=e})).catch((e=>{console.error(e.stack)}))})();