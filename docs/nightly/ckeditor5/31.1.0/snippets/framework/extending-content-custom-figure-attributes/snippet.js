/*!
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{"use strict";const t={tokenUrl:"https://33333.cke-cs.com/token/dev/ijrDsqFix838Gh3wGO3F77FSW94BwcLXprJ4APSp3XQ26xsUHTi0jcb1hoBt",uploadUrl:"https://33333.cke-cs.com/easyimage/upload/"};function e(t,e,o){o.model.schema.extend(e,{allowAttributes:["customClass"]}),o.conversion.for("upcast").add(r(t),{priority:"low"}),o.conversion.for("downcast").add(function(t){return e=>e.on(`insert:${t}`,((t,e,o)=>{const r=e.item,i=o.mapper.toViewElement(r);i&&o.writer.addClass(r.getAttribute("customClass"),i)}))}(e),{priority:"low"})}function o(t,e,o,r){const i=`custom${o}`;r.model.schema.extend(e,{allowAttributes:[i]}),r.conversion.for("upcast").add(function(t,e,o){return r=>r.on(`element:${t}`,((t,r,i)=>{const n=r.viewItem,s=r.modelRange,c=s&&s.start.nodeAfter;c&&i.writer.setAttribute(o,n.getAttribute(e),c)}))}(t,o,i)),r.conversion.for("downcast").add(function(t,e,o,r){return i=>i.on(`insert:${t}`,((t,i,n)=>{const s=i.item,c=function(t,e,o){return Array.from(o.writer.createRangeIn(t).getItems()).find((t=>t.is("element",e)))}(n.mapper.toViewElement(s),e,n);c&&n.writer.setAttribute(o,s.getAttribute(r),c)}))}(e,t,o,i))}function r(t){return e=>e.on(`element:${t}`,((t,e,o)=>{const r=e.viewItem,i=e.modelRange,n=i&&i.start.nodeAfter;if(!n)return;const s=n.getAttribute("customClass")||[];s.push(...r.getClassNames()),o.writer.setAttribute("customClass",s,n)}))}ClassicEditor.create(document.querySelector("#snippet-custom-figure-attributes"),{cloudServices:t,extraPlugins:[class{constructor(t){this.editor=t}afterInit(){const t=this.editor;e("img","imageBlock",t),e("img","imageInline",t),e("table","table",t),t.conversion.for("upcast").add(r("figure"),{priority:"low"}),o("img","imageBlock","id",t),o("img","imageInline","id",t),o("table","table","id",t)}}],ui:{viewportOffset:{top:window.getViewportTopOffsetConfig()}}}).then((t=>{window.editor=t})).catch((t=>{console.error(t.stack)}))})();