<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Extending editor output - CKEditor 5 Documentation</title>
    <meta name="description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:card" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:site" content="@ckeditor">
    <meta property="og:title" content="Extending editor output - CKEditor 5 Documentation">
    <meta property="og:description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/deep-dive/conversion/conversion-extending-output.html">
    <meta property="DC.language" content="en">
    <meta property="DC.publisher" content="CKSource">
    <meta property="DC.creator" content="CKEditor">
    <meta property="DC.title" content="Extending editor output - CKEditor 5 Documentation">
    <meta property="DC.format" content="text/html">
    <meta property="DC.type" content="Text">
    <meta property="DC.description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <link rel="canonical" href="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/deep-dive/conversion/conversion-extending-output.html">
    <link rel="icon" type="image/png" href="../../../../assets/img/favicons/16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="../../../../assets/img/favicons/32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../../../assets/img/favicons/96x96.png" sizes="96x96">
    <link rel="apple-touch-icon" type="image/png" href="../../../../assets/img/favicons/200x200.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
    <link rel="stylesheet" href="../../../../../../assets/1.9.1/css/styles.css" type="text/css" media="all">
    <link rel="stylesheet" href="../../../../assets/styles.css" type="text/css">
    <link rel="stylesheet" href="../../../../snippets/framework/build-extending-content-source/snippet.css" type="text/css" data-cke="true">
    <link rel="stylesheet" href="../../../../assets/snippet-styles.css" type="text/css" data-cke="true">
    <link rel="stylesheet" href="../../../../snippets/assets.css" type="text/css" data-cke="true">
    <script>
      ( function() {
      	'use strict';
      	// Set up global variables;
      	if ( !window.umebrto ) {
      		window.umberto = {};
      	}
      	window.umberto.relativeAppPath = "../../../../../../assets/1.9.1/scripts";
      
      	// Add app script
      	var el = document.createElement( 'script' );
      	el.setAttribute( 'async', 'async' );
      	el.setAttribute( 'defer', 'defer' );
      	if ( typeof Symbol === 'function' && typeof Symbol() === 'symbol' ) {
      		el.src = "../../../../../../assets/1.9.1/scripts/app.js";
      	} else {
      		el.src = "../../../../../../assets/1.9.1/scripts/app-polyfill.js";
      	}
      	document.getElementsByTagName( 'head' )[ 0 ].appendChild( el );
      
      	// Changing documentation theme enable it via `localStorage.setItem( 'theme', 'theme-dark' )`
      	if ( localStorage.getItem( 'theme' ) === 'theme-dark' ) {
      		document.getElementsByTagName( 'html' )[ 0 ].classList.add( 'theme-dark' );
      	}
      } )();
    </script>
    <script>if ( ["ckeditor5.github.io"].indexOf( location.hostname ) !== -1 ) {
      	function pageView() {
      		ga( 'send', 'pageview', location.pathname + location.search + location.hash );
      	}
      
      	(function( i, s, o, g, r, a, m ) {
      		i[ 'GoogleAnalyticsObject' ] = r;
      		i[ r ] = i[ r ] || function() {
      				(i[ r ].q = i[ r ].q || []).push( arguments )
      			}, i[ r ].l = 1 * new Date();
      		a = s.createElement( o ),
      			m = s.getElementsByTagName( o )[ 0 ];
      		a.async = 1;
      		a.src = g;
      		m.parentNode.insertBefore( a, m )
      	})( window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga' );
      
      	ga( 'create', {"trackingId":"UA-271067-19","cookieDomain":"ckeditor5.github.io"} );
      
      	pageView();
      
      	window.addEventListener( 'hashchange', pageView );
      }
    </script>
  <meta name="generator" content="Hexo 4.2.1"></head>
  <body>
    <header class="top" data-project="ckeditor5">
      <div class="header__main">
        <div class="header__main-rwd-button"><a href="#"><span></span><span></span><span></span></a></div>
        <div class="header__main-title"><a class="header__main-title-home" href="../../../../../../index.html">CKEditor Ecosystem Documentation</a></div>
        <div class="top__search">
          <input class="top__search__box" type="text" id="docsearch_input" placeholder="Search in CKEditor 5">
          <div class="top__search__button"><img src="../../../../../../assets/1.9.1/img/loupe.svg" alt="Search"></div>
        </div>
      </div>
      <div class="header__sub">
        <ul class="top__menu">
          <li class="top__menu-project-logo"><a href="../../../../index.html">CKEditor 5</a></li>
          <li><a href="../../../../builds/index.html">Builds</a></li>
          <li><a class="top__menu__item--active" href="../../../index.html">Framework</a></li>
          <li><a href="../../../../examples/index.html">Examples</a></li>
          <li><a href="../../../../features/index.html">Features</a></li>
          <li><a class="top__menu__api" href="../../../../api/index.html">API</a></li>
          <li><a class="top__menu-github-link" href="https://github.com/ckeditor/ckeditor5" target="_blank" title="CKEditor 5 on GitHub."><svg viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></li>
        </ul>
      </div>
      <div class="header__menu-rwd">
        <ul class="header__menu-rwd__projects">
          <li data-project="ckeditor5"><a href="../../../../../latest/index.html">CKEditor 5</a>
            <ul class="tree header__menu-rwd__projects-pages">
              <li data-group="builds"><a href="../../../../builds/index.html">Builds</a>
              </li>
              <li data-group="framework"><a href="../../../index.html">Framework</a>
                <ul class="header__menu-rwd__projects-subpages">
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Guides</span></div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../../overview.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span></div></a></li>
                                  <li><a href="../../quick-start.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Quick start</span></div></a></li>
                                  <li><a href="../../creating-simple-plugin.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating a simple plugin</span></div></a></li>
                                  <li><a href="../../development-tools.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Development tools</span></div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Architecture</span></div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../../architecture/intro.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span></div></a></li>
                                          <li><a href="../../architecture/core-editor-architecture.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Core editor architecture</span></div></a></li>
                                          <li><a href="../../architecture/editing-engine.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editing engine</span></div></a></li>
                                          <li><a href="../../architecture/ui-library.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI library</span></div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Tutorials</span></div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../../tutorials/implementing-a-block-widget.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing a block widget</span></div></a></li>
                                          <li><a href="../../tutorials/implementing-an-inline-widget.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing an inline widget</span></div></a></li>
                                          <li><a href="../../tutorials/using-react-in-a-widget.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Using a React component in a widget</span></div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Deep dive</span></div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../clipboard.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Clipboard</span></div></a></li>
                                          <li><a href="../upload-adapter.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom upload adapter</span></div></a></li>
                                          <li><a href="../event-system.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Event system</span></div></a></li>
                                          <li><a href="../observables.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Observables</span></div></a></li>
                                          <li><a href="../schema.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Schema</span></div></a></li>
                                          <li>
                                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Conversion</span></div>
                                            <ul class="tree__item-nested-list">
                                                  <li><a href="conversion-introduction.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Advanced concepts</span></div></a></li>
                                                  <li><a href="">
                                                      <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Extending editor output</span></div></a></li>
                                                  <li><a href="conversion-preserving-custom-content.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Preserving custom content</span></div></a></li>
                                                  <li><a href="custom-element-conversion.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom element conversion</span></div></a></li>
                                                  <li><a href="element-reconversion.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Element reconversion</span></div></a></li>
                                            </ul>
                                          </li>
                                          <li>
                                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">User interface</span></div>
                                            <ul class="tree__item-nested-list">
                                                  <li><a href="../ui/focus-tracking.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Focus tracking</span></div></a></li>
                                                  <li><a href="../ui/widget-internals.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Widget internals</span></div></a></li>
                                                  <li><a href="../ui/theme-customization.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Theme customization</span></div></a></li>
                                                  <li><a href="../ui/external-ui.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Third–party UI</span></div></a></li>
                                                  <li><a href="../ui/document-editor.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document editor</span></div></a></li>
                                                  <li><a href="../ui/custom-editor-creator.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating custom editor</span></div></a></li>
                                                  <li><a href="../ui/localization.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Localization</span></div></a></li>
                                            </ul>
                                          </li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Contributing</span></div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../../contributing/contributing.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Contributing</span></div></a></li>
                                          <li><a href="../../contributing/development-environment.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Development environment</span></div></a></li>
                                          <li><a href="../../contributing/testing-environment.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Testing environment</span></div></a></li>
                                          <li><a href="../../contributing/code-style.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Code style</span></div></a></li>
                                          <li><a href="../../contributing/package-metadata.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Package metadata 🆕</span></div></a></li>
                                          <li><a href="../../contributing/git-commit-message-convention.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Git commit message convention</span></div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Support</span></div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../../support/browser-compatibility.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Browser compatibility</span></div></a></li>
                                          <li><a href="../../support/license-and-legal.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">License and legal</span></div></a></li>
                                          <li><a href="../../support/getting-support.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Getting support</span></div></a></li>
                                          <li><a href="../../support/reporting-issues.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Reporting issues</span></div></a></li>
                                          <li><a href="../../support/versioning-policy.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Versioning policy</span></div></a></li>
                                          <li><a href="../../support/error-codes.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Error codes</span></div></a></li>
                                    </ul>
                                  </li>
                            </ul>
                          </li>
                </ul>
              </li>
              <li data-group="examples"><a href="../../../../examples/index.html">Examples</a>
              </li>
              <li data-group="features"><a href="../../../../features/index.html">Features</a>
              </li>
              <li data-group="api-reference"><a href="../../../../api/index.html">API</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </header>
    <main class="main">
      <section class="main__content formatted">
        <div class="main__content-inner">
          <div class="github-contrib"><a href="https://github.com/ckeditor/ckeditor5/blob/master/packages/ckeditor5-engine/docs/framework/guides/deep-dive/conversion-extending-output.md" target="_blank" rel="noopener" title="Contribute to this guide"><img src="../../../../../../assets/1.9.1/img/edit.svg" alt="Contribute to this guide"></a>
          </div>
          <div class="rwd-breadcrumbs"><a href="../../../../../../index.html">Home</a><span class="rwd-breadcrumbs__separator">/</span><a href="../../../../index.html">CKEditor 5</a><span class="rwd-breadcrumbs__separator">/</span><a href="../../../index.html">Framework</a>
          </div>
          <h1 class="main__content-title"><img src="../../../../../../assets/1.9.1/img/book.svg" alt="guide">Extending the editor output
          </h1><nav class="secondary-navigation"><h3>Table of contents</h3><ol><li><a href="#before-starting">Before starting</a><ol><li><a href="#code-architecture">Code architecture</a></li><li><a href="#granular-converters">Granular converters</a></li><li><a href="#ckeditor-5-inspector">CKEditor 5 inspector</a></li></ol></li><li><a href="#adding-a-css-class-to-inline-elements">Adding a CSS class to inline elements</a></li><li><a href="#adding-an-html-attribute-to-certain-inline-elements">Adding an HTML attribute to certain inline elements</a></li><li><a href="#adding-a-css-class-to-certain-inline-elements">Adding a CSS class to certain inline elements</a></li><li><a href="#adding-a-css-class-to-block-elements">Adding a CSS class to block elements</a></li><li><a href="#whats-next">What&#x2019;s next?</a></li></ol></nav>

<p>This guide focuses on customization of the one&#x2013;way <a href="../../architecture/editing-engine.html#editing-pipeline">&#x201C;downcast&#x201D;</a> pipeline of CKEditor 5. This pipeline transforms the data from the model to the editing view and the output data. The following examples do not customize the model and do not process the (input) data &#x2014; you can picture them as post&#x2013;processors (filters) applied to the output only.</p>
<p>If you want to learn how to load some extra content (element, attributes, classes) into the rich-text editor, check out the <a href="conversion-preserving-custom-content.html">next guide</a> of this section.</p>
<h2 id="before-starting"><a class="headerlink" href="#before-starting">#</a> Before starting</h2>
<h3 id="code-architecture"><a class="headerlink" href="#code-architecture">#</a> Code architecture</h3>
<p>It is recommended for the code that customizes the editor data and editing pipelines to be delivered as <a href="../../architecture/core-editor-architecture.html#plugins">plugins</a> and all examples in this guide follow this convention.</p>
<p>Also for the sake of simplicity all examples use the same <a href="../../../../api/module_editor-classic_classiceditor-ClassicEditor.html"><code>ClassicEditor</code></a>, but keep in mind that code snippets will work with other editors, too.</p>
<p>Finally, none of the converters covered in this guide requires to import any modules from CKEditor 5 Framework, hence, you can write them without rebuilding the editor. In other words, such converters can easily be added to existing <a href="../../../../builds/guides/overview.html">CKEditor 5 builds</a>.</p>
<h3 id="granular-converters"><a class="headerlink" href="#granular-converters">#</a> Granular converters</h3>
<p>You can create separate converters for the data and editing (downcast) pipelines. The former (<code>dataDowncast</code>) will customize the data in the editor output (e.g. when <a href="../../../../builds/guides/integration/saving-data.html#manually-retrieving-the-data">obtaining the editor data</a>). The latter (<code>editingDowncast</code>) will only work for the content of the editor when editing.</p>
<p>If you do not want to complicate your conversion, you can just add a single (<code>downcast</code>) converter which will apply both to the data and the editing view. We did that in all the examples to keep them simple but keep in mind you have several options:</p>
<pre class="highlight"><code class="js">// Adds a conversion dispatcher for the editing downcast pipeline only.
editor.conversion.for( &apos;editingDowncast&apos; ).add( dispatcher =&gt; {
    // ...
} );

// Adds a conversion dispatcher for the data downcast pipeline only.
editor.conversion.for( &apos;dataDowncast&apos; ).add( dispatcher =&gt; {
    // ...
} );

// Adds a conversion dispatcher for both the data and the editing downcast pipelines.
editor.conversion.for( &apos;downcast&apos; ).add( dispatcher =&gt; {
    // ...
} );
</code></pre>
<h3 id="ckeditor-5-inspector"><a class="headerlink" href="#ckeditor-5-inspector">#</a> CKEditor 5 inspector</h3>
<p>The <a href="../../development-tools.html#ckeditor-5-inspector">CKEditor 5 inspector</a> is an invaluable help when working with the model and view structures. It allows browsing their structure and checking selection positions like in typical browser developer tools. Make sure to enable the inspector when playing with CKEditor 5.</p>
<h2 id="adding-a-css-class-to-inline-elements"><a class="headerlink" href="#adding-a-css-class-to-inline-elements">#</a> Adding a CSS class to inline elements</h2>
<p>In this example all links (<code>&lt;a href=&quot;...&quot;&gt;...&lt;/a&gt;</code>) get the <code>.my-green-link</code> CSS class. This includes all links in the editor output (<code>editor.getData()</code>) and all links in the edited content (existing and future ones).</p>
<p>Note that the same behavior can be obtained with <a href="../../../../features/link.html#custom-link-attributes-decorators">link decorators</a>:</p>
<pre class="highlight"><code class="js">ClassicEditor
    .create( ..., {
        // ...
        link: {
            decorators: {
                addGreenLink: {
                    mode: &apos;automatic&apos;,
                    attributes: {
                        class: &apos;my-green-link&apos;
                    }
                }
            }
        }
    } )
</code></pre>
<div class="live-snippet"><style>
	.my-green-link {
		color: #209a25;
		border: 1px solid #209a25;
		border-radius: 2px;
		padding: 0 3px;
		box-shadow: 1px 1px 0 0 #209a25;
	}
</style>

<div id="snippet-link-classes">
	<p>All links in this <a href="https://ckeditor.com">editor</a> have a custom <code>.my-green-link</code>
	CSS <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class">class</a> attribute.</p>
</div>
</div>
<p>A custom CSS class is added to all links by a custom converter plugged into the downcast pipeline, following the default converters brought by the <a href="../../../../features/link.html">link</a> feature:</p>
<pre class="highlight"><code class="js">// This plugin brings customization to the downcast pipeline of the editor.
function AddClassToAllLinks( editor ) {
    // Both the data and the editing pipelines are affected by this conversion.
    editor.conversion.for( &apos;downcast&apos; ).add( dispatcher =&gt; {
        // Links are represented in the model as a &quot;linkHref&quot; attribute.
        // Use the &quot;low&quot; listener priority to apply the changes after the link feature.
        dispatcher.on( &apos;attribute:linkHref&apos;, ( evt, data, conversionApi ) =&gt; {
            const viewWriter = conversionApi.writer;
            const viewSelection = viewWriter.document.selection;

            // Adding a new CSS class is done by wrapping all link ranges and selection
            // in a new attribute element with a class.
            const viewElement = viewWriter.createAttributeElement( &apos;a&apos;, {
                    class: &apos;my-green-link&apos;
                }, {
                    priority: 5
                } );

            if ( data.item.is( &apos;selection&apos; ) ) {
                viewWriter.wrap( viewSelection.getFirstRange(), viewElement );
            } else {
                viewWriter.wrap( conversionApi.mapper.toViewRange( data.range ), viewElement );
            }
        }, { priority: &apos;low&apos; } );
    } );
}
</code></pre>
<p>Activate the plugin in the editor:</p>
<pre class="highlight"><code class="js">ClassicEditor
    .create( ..., {
        extraPlugins: [ AddClassToAllLinks ],
    } )
    .then( editor =&gt; {
        // ...
    } )
    .catch( err =&gt; {
        console.error( err.stack );
    } );
</code></pre>
<p>Add some CSS styles for <code>.my-green-link</code> to see the customization in action:</p>
<pre class="highlight"><code class="css">.my-green-link {
    color: #209a25;
    border: 1px solid #209a25;
    border-radius: 2px;
    padding: 0 3px;
    box-shadow: 1px 1px 0 0 #209a25;
}
</code></pre>
<h2 id="adding-an-html-attribute-to-certain-inline-elements"><a class="headerlink" href="#adding-an-html-attribute-to-certain-inline-elements">#</a> Adding an HTML attribute to certain inline elements</h2>
<p>In this example all the links (<code>&lt;a href=&quot;...&quot;&gt;...&lt;/a&gt;</code>) that do not have &#x201C;<a href="http://ckeditor.com">ckeditor.com</a>&#x201D; in their <code>href=&quot;...&quot;</code> get the <code>target=&quot;_blank&quot;</code> attribute. This includes all links in the editor output (<code>editor.getData()</code>) and all links in the edited content (existing and future ones).</p>
<p>Note that similar behavior can be obtained with <a href="../../../../api/module_link_link-LinkConfig.html#member-addTargetToExternalLinks">link decorators</a>:</p>
<pre class="highlight"><code class="js">ClassicEditor
    .create( ..., {
        // ...
        link: {
            addTargetToExternalLinks: true
        }
    } )
</code></pre>
<div class="live-snippet"><style>
	#snippet-link-external + .ck-editor .ck-content a[target="_blank"]::after {
		content: '\29C9';
	}
</style>

<div id="snippet-link-external">
	<p>External links in this <a href="https://ckeditor.com">editor</a> have a <code>target="_blank"</code>
	<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes">attribute</a> and will open in a new
	<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window">window</a>.</p>
	<p>Edit the URL of the links including "ckeditor.com" and other domains to see them marked as "internal" or "external".</p>
</div>
</div>
<p>The <code>target</code> attribute is added to all &#x201C;external&#x201D; links by a custom converter plugged into the downcast pipeline, following the default converters brought by the <a href="../../../../features/link.html">link</a> feature:</p>
<pre class="highlight"><code class="js">// This plugin brings customization to the downcast pipeline of the editor.
function AddTargetToExternalLinks( editor ) {
    // Both the data and the editing pipelines are affected by this conversion.
    editor.conversion.for( &apos;downcast&apos; ).add( dispatcher =&gt; {
        // Links are represented in the model as a &quot;linkHref&quot; attribute.
        // Use the &quot;low&quot; listener priority to apply the changes after the link feature.
        dispatcher.on( &apos;attribute:linkHref&apos;, ( evt, data, conversionApi ) =&gt; {
            const viewWriter = conversionApi.writer;
            const viewSelection = viewWriter.document.selection;

            // Adding a new CSS class is done by wrapping all link ranges and selection
            // in a new attribute element with the &quot;target&quot; attribute.
            const viewElement = viewWriter.createAttributeElement( &apos;a&apos;, {
                    target: &apos;_blank&apos;
                }, {
                    priority: 5
                } );

            if ( data.attributeNewValue.match( /ckeditor\.com/ ) ) {
                viewWriter.unwrap( conversionApi.mapper.toViewRange( data.range ), viewElement );
            } else {
                if ( data.item.is( &apos;selection&apos; ) ) {
                    viewWriter.wrap( viewSelection.getFirstRange(), viewElement );
                } else {
                    viewWriter.wrap( conversionApi.mapper.toViewRange( data.range ), viewElement );
                }
            }
        }, { priority: &apos;low&apos; } );
    } );
}
</code></pre>
<p>Activate the plugin in the editor:</p>
<pre class="highlight"><code class="js">ClassicEditor
    .create( ..., {
        extraPlugins: [ AddTargetToExternalLinks ],
    } )
    .then( editor =&gt; {
        // ...
    } )
    .catch( err =&gt; {
        console.error( err.stack );
    } );
</code></pre>
<p>Add some CSS styles for links with <code>target=&quot;_blank&quot;</code> to mark them with with the &#x201C;&#x29C9;&#x201D; symbol:</p>
<pre class="highlight"><code class="css">a[target=&quot;_blank&quot;]::after {
    content: &apos;\29C9&apos;;
}
</code></pre>
<h2 id="adding-a-css-class-to-certain-inline-elements"><a class="headerlink" href="#adding-a-css-class-to-certain-inline-elements">#</a> Adding a CSS class to certain inline elements</h2>
<p>In this example all links (<code>&lt;a href=&quot;...&quot;&gt;...&lt;/a&gt;</code>) that do not have <code>https://</code> in their <code>href=&quot;...&quot;</code> attribute get the <code>.unsafe-link</code> CSS class. This includes all links in the editor output (<code>editor.getData()</code>) and all links in the edited content (existing and future ones).</p>
<p>Note that the same behavior can be obtained with <a href="../../../../features/link.html#custom-link-attributes-decorators">link decorators</a>:</p>
<pre class="highlight"><code class="js">ClassicEditor
    .create( ..., {
        // ...
        link: {
            decorators: {
                markUnsafeLink: {
                    mode: &apos;automatic&apos;,
                    callback: url =&gt; /^(http:)?\/\//.test( url ),
                    attributes: {
                        class: &apos;unsafe-link&apos;
                    }
                }
            }
        }
    } )
</code></pre>
<div class="live-snippet"><style>
	.unsafe-link {
		padding: 0 2px;
		outline: 2px dashed red;
		background: #ffff00;
	}
</style>

<div id="snippet-link-unsafe-classes">
	<p>All links in this <a href="https://ckeditor.com">editor</a> that do not use the <a href="http://developer.mozilla.org/en-US/docs/Glossary/https">HTTPS</a> protocol
	have a custom <code>.unsafe-link</code> CSS <a href="http://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class">class</a> that marks them with a predefined graphic differentiator.</p>
	<p>Edit the URL of the links using "http://" or "https://" to see them marked as "safe" or "unsafe".</p>
</div>
</div>
<p>The <code>.unsafe-link</code> CSS class is added to all &#x201C;unsafe&#x201D; links by a custom converter plugged into the downcast pipeline, following the default converters brought by the <a href="../../../../features/link.html">link</a> feature:</p>
<pre class="highlight"><code class="js">// This plugin brings customization to the downcast pipeline of the editor.
function AddClassToUnsafeLinks( editor ) {
    // Both the data and the editing pipelines are affected by this conversion.
    editor.conversion.for( &apos;downcast&apos; ).add( dispatcher =&gt; {
        // Links are represented in the model as a &quot;linkHref&quot; attribute.
        // Use the &quot;low&quot; listener priority to apply the changes after the link feature.
        dispatcher.on( &apos;attribute:linkHref&apos;, ( evt, data, conversionApi ) =&gt; {
            const viewWriter = conversionApi.writer;
            const viewSelection = viewWriter.document.selection;

            // Adding a new CSS class is done by wrapping all link ranges and selection
            // in a new attribute element with the &quot;target&quot; attribute.
            const viewElement = viewWriter.createAttributeElement( &apos;a&apos;, {
                    class: &apos;unsafe-link&apos;
                }, {
                    priority: 5
                } );

            if ( data.attributeNewValue.match( /http:\/\// ) ) {
                if ( data.item.is( &apos;selection&apos; ) ) {
                    viewWriter.wrap( viewSelection.getFirstRange(), viewElement );
                } else {
                    viewWriter.wrap( conversionApi.mapper.toViewRange( data.range ), viewElement );
                }
            } else {
                viewWriter.unwrap( conversionApi.mapper.toViewRange( data.range ), viewElement );
            }
        }, { priority: &apos;low&apos; } );
    } );
}
</code></pre>
<p>Activate the plugin in the editor:</p>
<pre class="highlight"><code class="js">ClassicEditor
    .create( ..., {
        extraPlugins: [ AddClassToUnsafeLinks ],
    } )
    .then( editor =&gt; {
        // ...
    } )
    .catch( err =&gt; {
        console.error( err.stack );
    } );
</code></pre>
<p>Add some CSS styles for &#x201C;unsafe&#x201D; links to make them visible:</p>
<pre class="highlight"><code class="css">.unsafe-link {
    padding: 0 2px;
    outline: 2px dashed red;
    background: #ffff00;
}
</code></pre>
<h2 id="adding-a-css-class-to-block-elements"><a class="headerlink" href="#adding-a-css-class-to-block-elements">#</a> Adding a CSS class to block elements</h2>
<p>In this example all second&#x2013;level headings (<code>&lt;h2&gt;...&lt;/h2&gt;</code>) get the <code>.my-heading</code> CSS class. This includes all the heading elements in the editor output (<code>editor.getData()</code>) and in the edited content (existing and future ones).</p>
<div class="live-snippet"><style>
	.ck-content h2.my-heading {
		font-family: Georgia, Times, Times New Roman, serif;
		border-left: 6px solid #fd0000;
		padding-left: .8em;
		padding: .1em .8em;
	}
</style>

<div id="snippet-heading-class">
	<h2>Heading with <code>.my-heading</code> class</h2>
	<h3>Regular heading</h3>
	<p>Some content.</p>
</div>
</div>
<p>A custom CSS class is added to all <code>&lt;h2&gt;...&lt;/h2&gt;</code> elements by a custom converter plugged into the downcast pipeline, following the default converters brought by the <a href="../../../../features/headings.html">headings</a> feature:</p>
<div class="info-box notice"><p>The <code>heading1</code> element in the model corresponds to <code>&lt;h2&gt;...&lt;/h2&gt;</code> in the output HTML because in the default <a href="../../../../features/headings.html#configuring-heading-levels">headings feature configuration</a> <code>&lt;h1&gt;...&lt;/h1&gt;</code> is reserved for the top&#x2013;most heading of the webpage.</p></div>
<pre class="highlight"><code class="js">// This plugin brings customization to the downcast pipeline of the editor.
function AddClassToAllHeading1( editor ) {
    // Both the data and the editing pipelines are affected by this conversion.
    editor.conversion.for( &apos;downcast&apos; ).add( dispatcher =&gt; {
        // Headings are represented in the model as a &quot;heading1&quot; element.
        // Use the &quot;low&quot; listener priority to apply the changes after the headings feature.
        dispatcher.on( &apos;insert:heading1&apos;, ( evt, data, conversionApi ) =&gt; {
            const viewWriter = conversionApi.writer;

            viewWriter.addClass( &apos;my-heading&apos;, conversionApi.mapper.toViewElement( data.item ) );
        }, { priority: &apos;low&apos; } );
    } );
}
</code></pre>
<p>Activate the plugin in the editor:</p>
<pre class="highlight"><code class="js">ClassicEditor
    .create( ..., {
        extraPlugins: [ AddClassToAllHeading1 ],
    } )
    .then( editor =&gt; {
        // ...
    } )
    .catch( err =&gt; {
        console.error( err.stack );
    } );
</code></pre>
<p>Add some CSS styles for <code>.my-heading</code> to see the customization in action:</p>
<pre class="highlight"><code class="css">.my-heading {
    font-family: Georgia, Times, Times New Roman, serif;
    border-left: 6px solid #fd0000;
    padding-left: .8em;
    padding: .1em .8em;
}
</code></pre>
<h2 id="whats-next"><a class="headerlink" href="#whats-next">#</a> What&#x2019;s next?</h2>
<p>If you would like to read more about how to make CKEditor 5 accept more content, refer to the <a href="conversion-preserving-custom-content.html">Preserving custom content</a> guide.</p>
<p>If you want to learn how to create complex view structures or how to move from <a href="../../../../api/module_engine_conversion_conversion-Conversion.html">two-way</a> or <a href="../../../../api/module_engine_conversion_conversion-Conversion.html#function-for">one-way</a> converters to event-based ones, refer to the <a href="custom-element-conversion.html">Custom element conversion</a> guide.</p>

        </div>
      </section>
      <div class="side-navigation">
        <div class="side-navigation__wrapper">
          <nav class="side-navigation__inner">
            <ul class="tree guide-tree">
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Guides</span></div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../../overview.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span></div></a></li>
                                    <li><a href="../../quick-start.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Quick start</span></div></a></li>
                                    <li><a href="../../creating-simple-plugin.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating a simple plugin</span></div></a></li>
                                    <li><a href="../../development-tools.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Development tools</span></div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Architecture</span></div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../../architecture/intro.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span></div></a></li>
                                              <li><a href="../../architecture/core-editor-architecture.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Core editor architecture</span></div></a></li>
                                              <li><a href="../../architecture/editing-engine.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editing engine</span></div></a></li>
                                              <li><a href="../../architecture/ui-library.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI library</span></div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Tutorials</span></div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../../tutorials/implementing-a-block-widget.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing a block widget</span></div></a></li>
                                              <li><a href="../../tutorials/implementing-an-inline-widget.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing an inline widget</span></div></a></li>
                                              <li><a href="../../tutorials/using-react-in-a-widget.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Using a React component in a widget</span></div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Deep dive</span></div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../clipboard.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Clipboard</span></div></a></li>
                                              <li><a href="../upload-adapter.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom upload adapter</span></div></a></li>
                                              <li><a href="../event-system.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Event system</span></div></a></li>
                                              <li><a href="../observables.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Observables</span></div></a></li>
                                              <li><a href="../schema.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Schema</span></div></a></li>
                                              <li>
                                                <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Conversion</span></div>
                                                <ul class="tree__item-nested-list">
                                                        <li><a href="conversion-introduction.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Advanced concepts</span></div></a></li>
                                                        <li><a href="">
                                                            <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Extending editor output</span></div></a></li>
                                                        <li><a href="conversion-preserving-custom-content.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Preserving custom content</span></div></a></li>
                                                        <li><a href="custom-element-conversion.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom element conversion</span></div></a></li>
                                                        <li><a href="element-reconversion.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Element reconversion</span></div></a></li>
                                                </ul>
                                              </li>
                                              <li>
                                                <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">User interface</span></div>
                                                <ul class="tree__item-nested-list">
                                                        <li><a href="../ui/focus-tracking.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Focus tracking</span></div></a></li>
                                                        <li><a href="../ui/widget-internals.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Widget internals</span></div></a></li>
                                                        <li><a href="../ui/theme-customization.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Theme customization</span></div></a></li>
                                                        <li><a href="../ui/external-ui.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Third–party UI</span></div></a></li>
                                                        <li><a href="../ui/document-editor.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document editor</span></div></a></li>
                                                        <li><a href="../ui/custom-editor-creator.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating custom editor</span></div></a></li>
                                                        <li><a href="../ui/localization.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Localization</span></div></a></li>
                                                </ul>
                                              </li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Contributing</span></div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../../contributing/contributing.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Contributing</span></div></a></li>
                                              <li><a href="../../contributing/development-environment.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Development environment</span></div></a></li>
                                              <li><a href="../../contributing/testing-environment.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Testing environment</span></div></a></li>
                                              <li><a href="../../contributing/code-style.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Code style</span></div></a></li>
                                              <li><a href="../../contributing/package-metadata.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Package metadata 🆕</span></div></a></li>
                                              <li><a href="../../contributing/git-commit-message-convention.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Git commit message convention</span></div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Support</span></div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../../support/browser-compatibility.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Browser compatibility</span></div></a></li>
                                              <li><a href="../../support/license-and-legal.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">License and legal</span></div></a></li>
                                              <li><a href="../../support/getting-support.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Getting support</span></div></a></li>
                                              <li><a href="../../support/reporting-issues.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Reporting issues</span></div></a></li>
                                              <li><a href="../../support/versioning-policy.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Versioning policy</span></div></a></li>
                                              <li><a href="../../support/error-codes.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Error codes</span></div></a></li>
                                      </ul>
                                    </li>
                            </ul>
                          </li>
            </ul>
          </nav>
        </div>
      </div>
    </main>
    <footer class="footer footer--bordered">
      <p>&copy; 2003-2021 <a href="http://cksource.com" target="_blank" rel="noopener">CKSource</a>. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
docsearch({
apiKey:'fc463c26455365ad403d5ec51796cd73',indexName:'ckeditor_nightly',inputSelector:'#docsearch_input',algoliaOptions:{hitsPerPage:250,attributesToRetrieve:'*',facetFilters:['tags: ckeditor5']},
transformData: function( hits ) {var sortingFn = function( a, b ) {a.custom_ranking = a.custom_ranking || 0;b.custom_ranking = b.custom_ranking || 0;if ( a.custom_ranking === b.custom_ranking ) return a.index - b.index;if ( a.custom_ranking > b.custom_ranking ) return -1;if ( a.custom_ranking < b.custom_ranking ) return 1;};var result = [];var tags = [ 'builds', 'framework', 'examples', 'features', 'api' ];var hitsGrouped = { api: [] };hitsGrouped[ 'framework' ] = hits.filter( function( h ) {return h.tags.includes( 'framework' );} ).slice( 0, 7 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn );tags.forEach( function( tag ) {if ( tag !== 'framework' ) {hitsGrouped[ tag ] = hits.filter( function( h ) {return h.tags.includes( tag );} ).slice( 0, 10 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn ).slice( 0, 3 );}} );var apiSearchHits = [];if ( window.apiSearch ) apiSearchHits = window.apiSearch();hitsGrouped.api = hitsGrouped.api.filter( function( h ) {var isDuplicated = false;for ( var i = 0; i < apiSearchHits.length; i++ ) {if ( h.url.includes( apiSearchHits[ i ].urlShort ) ) {isDuplicated = true;break;}}return !isDuplicated;} );hitsGrouped.api = ( apiSearchHits || [] ).concat( hitsGrouped.api );result = result.concat( hitsGrouped[ 'framework' ] );tags.forEach( function( tag ) {if ( tag !== 'framework' ) result = result.concat( hitsGrouped[ tag ].slice( 0, 4 ) );} );return result;}
});
</script>
    <script src="../../../../assets/snippet.js"></script>
    <script src="../../../../snippets/assets.js"></script>
    <script src="../../../../snippets/framework/build-extending-content-source/snippet.js"></script>
    <script src="../../../../snippets/framework/extending-content-add-link-class/snippet.js"></script>
    <script src="../../../../snippets/framework/extending-content-add-external-link-target/snippet.js"></script>
    <script src="../../../../snippets/framework/extending-content-add-unsafe-link-class/snippet.js"></script>
    <script src="../../../../snippets/framework/extending-content-add-heading-class/snippet.js"></script>
  </body>
</html>